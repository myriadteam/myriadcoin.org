{"version":3,"sources":["webpack:///./node_modules/react-use-gesture/dist/reactusegesture.esm.js","webpack:///./src/components/graphs/zoom-pan-context.js","webpack:///./src/components/graphs/stacked-plot.js","webpack:///./src/components/graphs/line-plot.js","webpack:///./src/components/graphs/bar-plot.js","webpack:///./src/components/graphs/stacked-areas.js","webpack:///./src/components/graphs/line-graph-content.js","webpack:///./src/components/graphs/line-graph-x-axis.js","webpack:///./src/components/graphs/line-graph-y-axis.js","webpack:///./src/components/graphs/line-graph-values.js","webpack:///./src/components/graphs/line-graph-mouse.js","webpack:///./src/components/graphs/line-graph-periods.js","webpack:///./src/components/graphs/grouping-selector.js","webpack:///./src/components/graphs/zoom-pan-context-provider.js","webpack:///./src/components/graphs/line-graph.js","webpack:///./src/components/graphs/hooks.js","webpack:///./src/components/dropdown.js","webpack:///./src/svgs/icons/chevron-down.inline.svg","webpack:///./node_modules/d3-path/src/path.js","webpack:///./node_modules/d3-shape/src/array.js","webpack:///./node_modules/d3-shape/src/constant.js","webpack:///./node_modules/d3-shape/src/curve/linear.js","webpack:///./node_modules/d3-shape/src/point.js","webpack:///./node_modules/d3-shape/src/line.js","webpack:///./node_modules/d3-shape/src/curve/monotone.js","webpack:///./node_modules/d3-shape/src/offset/none.js","webpack:///./node_modules/d3-shape/src/order/none.js","webpack:///./node_modules/d3-shape/src/stack.js","webpack:///./src/common/graph.js","webpack:///./node_modules/d3-shape/src/area.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es.math.hypot.js"],"names":["addV","v1","v2","map","v","i","subV","calculateDistance","movement","Math","hypot","apply","calculateAllGeometry","delta","dl","alpha","direction","distance","calculateAllKinematics","dt","beta","velocity","velocities","sign","x","Number","rubberband","dimension","constant","abs","Infinity","pow","rubberband2","rubberbandIfOutOfBounds","position","min","max","value","minMax","_defineProperties","target","props","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_extends","assign","arguments","source","prototype","hasOwnProperty","call","this","_inheritsLoose","subClass","superClass","create","constructor","__proto__","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","_assertThisInitialized","self","ReferenceError","_arrayLikeToArray","arr","len","arr2","Array","_createForOfIteratorHelperLoose","o","allowArrayLike","it","Symbol","iterator","isArray","minLen","n","toString","slice","name","from","test","_unsupportedIterableToArray","done","TypeError","next","bind","noop","chainFns","_len","fns","_key","result","_step","_iterator","fn","ensureVector","fallback","undefined","Error","assignDefault","valueFn","_len2","args","_key2","resolveWith","config","resolvers","_i","_Object$entries","entries","_Object$entries$_i","resolver","supportsTouchEvents","window","getEventTouches","event","type","changedTouches","targetTouches","getPointerIds","pointerId","t","identifier","getGenericEventData","buttons","shiftKey","altKey","metaKey","ctrlKey","identity","xy","getPointerEventValues","transform","touchEvents","_ref","clientX","clientY","getTwoTouchesEventValues","pointerIds","_Array$from$filter","touches","filter","includes","A","B","dx","dy","cx","cy","values","atan2","PI","origin","getScrollEventValues","_event$currentTarget","currentTarget","scrollX","scrollY","scrollLeft","scrollTop","getWheelEventValues","deltaX","deltaY","deltaMode","getWebkitGestureEventValues","scale","rotation","InternalGestureOptionsNormalizers","threshold","enabled","triggerAllEvents","initial","InternalCoordinatesOptionsNormalizers","axis","lockDirection","bounds","state","_value2","_value2$left","left","_value2$right","right","_value2$top","top","_value2$bottom","bottom","isBrowser","document","createElement","InternalGenericOptionsNormalizers","domTarget","_window","_x","eventOptions","_temp","_ref$passive","passive","_ref$capture","capture","InternalDistanceAngleOptionsNormalizers","_value","_ref2","_ref2$distanceBounds","distanceBounds","_ref2$angleBounds","angleBounds","_distanceBounds","D","_angleBounds","InternalDragOptionsNormalizers","useTouch","experimental_preventWindowScrollY","_k","_ref3","_ref3$filterTaps","filterTaps","_ref3$lockDirection","_ref3$axis","swipeVelocity","swipeDistance","swipeDuration","delay","getInternalGenericOptions","getInternalCoordinatesOptions","getInternalDistanceAngleOptions","getInternalDragOptions","getInitial","mixed","_active","_blocked","_intentional","_movement","_initial","_bounds","_lastEventType","_dragStarted","_dragPreventScroll","_dragIsTap","_dragDelayed","intentional","offset","lastOffset","previous","first","last","active","timeStamp","startTime","elapsedTime","cancel","canceled","memo","getInitialState","shared","hovering","scrolling","wheeling","dragging","moving","pinching","down","locked","drag","_pointerId","vxvy","tap","swipe","pinch","_pointerIds","da","vdva","turns","wheel","move","scroll","RecognizersMap","Map","identity$1","Recognizer","controller","_this","debounced","setTimeout","callback","ms","clearTimeout","timeouts","stateKey","concat","fireGestureHandler","forceFlag","clean","prev_active","next_active","ingKey","size","touchIds","mapStateValues","pointerLockElement","newMemo","handler","Constructor","protoProps","staticProps","_proto","updateSharedState","sharedState","updateGestureState","gestureState","checkIntentionality","getMovement","_this$config","T","_this$state","wasIntentional","prevMovement","M","getInternalMovement","_T","i0","getIntentionalDisplacement","i1","intentionalityCheck","_rubberband","computeRubberband","get","handlers","Vx","Vy","Rx","Ry","_bounds$","X1","X2","_bounds$2","Y1","Y2","getGenericPayload","isStartEvent","getStartGestureState","_ref4","_state","partial","func","Controller","classes","Set","supportsGestureEvents","GestureEvent","e","bindings","RecognizerClass","addBindings","nativeRefs","updateDomListeners","getPropsListener","effect","getDomTargetFromConfig","removeListeners","takeAll","domListeners","forEach","_controller$config","el","windowListeners","clearAllWindowListeners","addEventIds","idList","add","removeEventIds","clearWindowListeners","options","updateWindowListeners","listeners","addListeners","_i2","_Object$entries2","_Object$entries2$_i","toLowerCase","push","captureString","_i3","_Object$entries3","_Object$entries3$_i","fnsArray","array","splice","_ref5","current","_step2","_iterator2","_step2$value","eventName","eventHandler","addEventListener","_step3","_iterator3","_step3$value","removeEventListener","useRecognizers","nativeHandlers","internalHandlers","hover","resolveClasses","useMemo","useEffect","deprecationNoticeForDomTarget","CoordinatesRecognizer","_Recognizer","_movement$map","absX","absY","getKinematics","persistEvent","persist","DragRecognizer","_CoordinatesRecognize","setPointerCapture","_dragTarget","_dragPointerId","releasePointerCapture","hasPointerCapture","preventScroll","cancelable","preventDefault","getEventId","isValidEvent","shouldPreventWindowScrollY","setUpWindowScrollDetection","startDrag","setUpDelayedDragTrigger","setStartState","onDragStart","onDragChange","movementX","movementY","kinematics","genericEventData","genericPayload","realDistance","onDragEnd","_this$state$velocitie","vx","vy","_this$state$movement","mx","my","_this$state$_intentio","ix","iy","_this$config$swipeVel","svx","svy","_this$config$swipeDis","sx","sy","sd","endState","onCancel","onClick","stopPropagation","onDragIsStart","PinchRecognizer","_DistanceAngleRecogni","onPinchStart","_getTwoTouchesEventVa","onPinchChange","_getTwoTouchesEventVa2","onPinchEnd","every","id","onGestureStart","onGestureChange","_this$state2","onGestureEnd","wheelShouldRun","getWheelValuesFromEvent","delta_d","_this$state$values","prev_d","prev_a","onWheel","onWheelEnd","onWheelChange","onWheelStart","_this$getWheelValuesF","_this$getWheelValuesF2","DistanceAngleRecognizer","d","_values$","a","delta_a","next_turns","WheelRecognizer","handleEvent","onEnd","geometry","MoveRecognizer","onMove","onMoveEnd","onMoveChange","onMoveStart","hoverTransform","onPointerEnter","onPointerLeave","ScrollRecognizer","movementDetection","RE_NOT_NATIVE","useGesture","_handlers","_sortHandlers","_native","handle","actions","RegExp","lastMatch","sortHandlers","set","mergedConfig","_config","has","buildComplexConfig","includeStartEndHandlers","onHover","handlerKey","startKey","endKey","ZoomPanContext","React","createContext","useGraphZoomPan","useContext","StackedPlot","parsedData","stackColors","offsetX","period","useState","setSlice","lastVal","useRef","lastPeriod","stackedData","exactData","barWidth","width","g","data","interpolate","diff","page","parseInt","animation","to","start","end","stack","stackI","stroke","stroke-width","x1","y1","x2","y2","LinePlot","linePlotData","linePlotColors","svgLine","fill","strokeWidth","vectorEffect","BarPlot","barPlotKeys","barPlotColors","barKey","barI","StackedAreas","stackAreas","area","LineGraphContent","areaStack","viewBox","viewportWidth","viewportHeight","style","preserveAspectRatio","LineGraphXAxis","renderValue","itemsCount","_","interpolatedValue","span","defaultProps","LineGraphYAxis","lowestInView","highestInView","boxHeight","height","LineGraphValues","renderKeyValue","colors","names","hoverValues","xValue","backgroundColor","color","Overlay","styled","div","theme","Tooltip","TooltipKeys","LineGraphMouse","renderXValue","renderYValue","exact","stackedKeys","keyNames","useSpring","dataX","dataY","opacity","tooltipOffset","dragCallback","startPeriod","boxRef","boxRef2","tooltipRef","tooltipKeyRef","useDimensions","boxWidth","tooltipWidth","tooltipKeyWidth","boxLeft","usePosition","getHoverItemX","useCallback","dragX","hoverCallback","moveCallback","hoverX","itemX","round","dataPoint","nearestExactDataPointFromX","nearestDataPointFromX","y","onDrag","ref","touchAction","userSelect","LineGraphPeriods","group","setPeriod","GROUP_PERIODS","defaultValue","onChange","LABELS","THREE_HOURS","SIX_HOURS","DAY","WEEK","MONTH","GroupingSelector","optionsMap","label","ZoomPanContextProvider","children","startY","getHighestInView","mappedValues","getLowestInView","getOffsetX","startOffsetX","newDragX","newPeriod","contextValue","Provider","LineGraph","renderXAxis","renderYAxis","xAxisItemsCount","yAxisItemsCount","rollingWindow","centralRolling","endY","linePlotKeys","title","loading","onChangeGroup","viewportBox","parseDataForLineGraph","rawData","paddingTop","find","c","isDefault","renderGraph","toFixed","useRenderValues","yAxisOptions","shorten","precision","yValueOptions","keyValueOptions","valueMultiplier","getTimestamp","groupName","GROUP_NAMES","startTimestamp","groupInfo","setGroupInfo","fetch","then","r","json","useGroupInfo","useTranslation","getDatapoint","date","Date","getRealValue","denomitors","exp","space","formatValue","getValue","number","suffix","DropdownContainer","Selected","isOpen","Menu","Option","DropdownMenu","toggleOpen","labelPrefix","option","Dropdown","placeholder","findOption","selectedOption","setSelectedOption","onChangeOption","selectedTitle","alt","ChevronDownInline","module","exports","default","pi","tau","tauEpsilon","Path","_x0","_y0","_x1","_y1","path","moveTo","closePath","lineTo","quadraticCurveTo","bezierCurveTo","arcTo","x0","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","sqrt","l01","l","tan","acos","t01","t21","arc","a0","a1","ccw","cos","sin","cw","rect","w","h","Linear","context","_context","areaStart","_line","areaEnd","NaN","lineStart","_point","lineEnd","point","p","defined","curve","output","line","buffer","defined0","slope3","that","h0","h1","s0","s1","slope2","t0","t1","MonotoneX","MonotoneY","ReflectContext","monotoneX","_t0","series","j","order","m","isNaN","_createForOfIteratorHelper","F","s","_e","f","err","normalCompletion","didErr","step","_e2","return","stackValue","stackSeries","HOUR","QUARTER","YEAR","algoNames","algoColors","algoDiffScale","hashrateScale","scaleGraph","pixels","getNearestDataPoint","nearestDataPointIndexFromX","index","getRollingAverage","slicedData","averagedData","averagedValues","reduce","average","getInitialAverage","dataValues","minX","maxX","minY","maxY","startValue","endValue","change","changePercent","parseHistoryData","adjustedMinY","adjustedMaxY","yInv","relativeValue","distanceIndexes","sort","lineKey","gradientDivide","d3Shape","svgLineFill","svgDivideLine","lineLength","svgPathProperties","getTotalLength","oz","sz","stackGen","areaGen","k","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","$","$hypot","stat","forced","value1","value2","arg","sum","aLen","larg"],"mappings":"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","file":"d5bda1398e8640ed0b7f464f0ffaaf333f222c40-3ef571226b44dc3dfd19.js","sourcesContent":["import \"core-js/modules/es.math.hypot.js\";\nimport React, { useRef } from 'react'; // vector add\n\nfunction addV(v1, v2) {\n  return v1.map(function (v, i) {\n    return v + v2[i];\n  });\n} // vector substract\n\n\nfunction subV(v1, v2) {\n  return v1.map(function (v, i) {\n    return v - v2[i];\n  });\n}\n/**\r\n * Calculates distance\r\n * @param movement the difference between current and initial vectors\r\n * @returns distance\r\n */\n\n\nfunction calculateDistance(movement) {\n  return Math.hypot.apply(Math, movement);\n}\n\nfunction calculateAllGeometry(movement, delta) {\n  if (delta === void 0) {\n    delta = movement;\n  }\n\n  var dl = calculateDistance(delta);\n  var alpha = dl === 0 ? 0 : 1 / dl;\n  var direction = delta.map(function (v) {\n    return alpha * v;\n  });\n  var distance = calculateDistance(movement);\n  return {\n    distance: distance,\n    direction: direction\n  };\n}\n/**\r\n * Calculates all kinematics\r\n * @template T the expected vector type\r\n * @param movement the difference between current and initial vectors\r\n * @param delta the difference between current and previous vectors\r\n * @param delta_t the time difference between current and previous timestamps\r\n * @returns all kinematics\r\n */\n\n\nfunction calculateAllKinematics(movement, delta, dt) {\n  var dl = calculateDistance(delta);\n  var alpha = dl === 0 ? 0 : 1 / dl;\n  var beta = dt === 0 ? 0 : 1 / dt;\n  var velocity = beta * dl;\n  var velocities = delta.map(function (v) {\n    return beta * v;\n  });\n  var direction = delta.map(function (v) {\n    return alpha * v;\n  });\n  var distance = calculateDistance(movement);\n  return {\n    velocities: velocities,\n    velocity: velocity,\n    distance: distance,\n    direction: direction\n  };\n}\n/**\r\n * Because IE doesn't support `Math.sign` function, so we use the polyfill version of the function.\r\n * This polyfill function is suggested by Mozilla:\r\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign#Polyfill\r\n * @param x target number\r\n */\n\n\nfunction sign(x) {\n  if (Math.sign) return Math.sign(x);\n  return Number(x > 0) - Number(x < 0) || +x;\n}\n\nfunction minMax(value, min, max) {\n  return Math.max(min, Math.min(value, max));\n} // Based on @aholachek ;)\n// https://twitter.com/chpwn/status/285540192096497664\n// iOS constant = 0.55\n// https://medium.com/@nathangitter/building-fluid-interfaces-ios-swift-9732bb934bf5\n\n\nfunction rubberband2(distance, constant) {\n  // default constant from the article is 0.7\n  return Math.pow(distance, constant * 5);\n}\n\nfunction rubberband(distance, dimension, constant) {\n  if (dimension === 0 || Math.abs(dimension) === Infinity) return rubberband2(distance, constant);\n  return distance * dimension * constant / (dimension + constant * distance);\n}\n\nfunction rubberbandIfOutOfBounds(position, min, max, constant) {\n  if (constant === void 0) {\n    constant = 0.15;\n  }\n\n  if (constant === 0) return minMax(position, min, max);\n  if (position < min) return -rubberband(min - position, max - min, constant) + min;\n  if (position > max) return +rubberband(position - max, max - min, constant) + max;\n  return position;\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      return function () {\n        if (i >= o.length) return {\n          done: true\n        };\n        return {\n          done: false,\n          value: o[i++]\n        };\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  it = o[Symbol.iterator]();\n  return it.next.bind(it);\n}\n\nfunction noop() {}\n/**\r\n * TODO Beware that only optimized cases are covered in tests =)\r\n * TODO Need to cover general case as well\r\n *\r\n * @param fns\r\n */\n\n\nfunction chainFns() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  if (fns.length === 0) return noop;\n  if (fns.length === 1) return fns[0];\n  return function () {\n    var result;\n\n    for (var _iterator = _createForOfIteratorHelperLoose(fns), _step; !(_step = _iterator()).done;) {\n      var fn = _step.value;\n      result = fn.apply(this, arguments) || result;\n    }\n\n    return result;\n  };\n}\n/**\r\n * Expects a simple value or 2D vector (an array with 2 elements) and\r\n * always returns 2D vector. If simple value is passed, returns a\r\n * vector with this value as both coordinates.\r\n *\r\n * @param value\r\n */\n\n\nfunction ensureVector(value, fallback) {\n  if (value === undefined) {\n    if (fallback === undefined) {\n      throw new Error('Must define fallback value if undefined is expected');\n    }\n\n    value = fallback;\n  }\n\n  if (Array.isArray(value)) return value;\n  return [value, value];\n}\n/**\r\n * Helper for defining a default value\r\n *\r\n * @param value\r\n * @param fallback\r\n */\n\n\nfunction assignDefault(value, fallback) {\n  return Object.assign({}, fallback, value || {});\n}\n/**\r\n * Resolves getters (functions) by calling them\r\n * If simple value is given it just passes through\r\n *\r\n * @param v\r\n */\n\n\nfunction valueFn(v) {\n  if (typeof v === 'function') {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    } // @ts-ignore\n\n\n    return v.apply(void 0, args);\n  } else {\n    return v;\n  }\n}\n\nfunction resolveWith(config, resolvers) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  var result = {};\n\n  for (var _i = 0, _Object$entries = Object.entries(resolvers); _i < _Object$entries.length; _i++) {\n    var _Object$entries$_i = _Object$entries[_i],\n        key = _Object$entries$_i[0],\n        resolver = _Object$entries$_i[1];\n\n    switch (typeof resolver) {\n      case 'function':\n        result[key] = resolver.call(result, config[key], key, config);\n        break;\n\n      case 'object':\n        result[key] = resolveWith(config[key], resolver);\n        break;\n\n      case 'boolean':\n        if (resolver) result[key] = config[key];\n        break;\n    }\n  }\n\n  return result;\n}\n\nvar WEBKIT_DISTANCE_SCALE_FACTOR = 260;\n/**\r\n * Whether the browser supports GestureEvent (ie Safari)\r\n * @returns true if the browser supports gesture event\r\n */\n\nfunction supportsGestureEvents() {\n  try {\n    // TODO [TS] possibly find GestureEvent definitions?\n    // @ts-ignore: no type definitions for webkit GestureEvents\n    return 'constructor' in GestureEvent;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction supportsTouchEvents() {\n  return typeof window !== 'undefined' && 'ontouchstart' in window;\n}\n\nfunction getEventTouches(event) {\n  if ('pointerId' in event) return null;\n  return event.type === 'touchend' ? event.changedTouches : event.targetTouches;\n}\n\nfunction getPointerIds(event) {\n  if ('pointerId' in event) return [event.pointerId];\n  return Array.from(getEventTouches(event)).map(function (t) {\n    return t.identifier;\n  });\n}\n\nfunction getGenericEventData(event) {\n  var buttons = 'buttons' in event ? event.buttons : 0;\n  var shiftKey = event.shiftKey,\n      altKey = event.altKey,\n      metaKey = event.metaKey,\n      ctrlKey = event.ctrlKey; // TODO check if this might create some overrides?\n\n  return {\n    buttons: buttons,\n    shiftKey: shiftKey,\n    altKey: altKey,\n    metaKey: metaKey,\n    ctrlKey: ctrlKey\n  };\n}\n\nvar identity = function identity(xy) {\n  return xy;\n};\n/**\r\n * Gets pointer event values.\r\n * @param event\r\n * @returns pointer event values\r\n */\n\n\nfunction getPointerEventValues(event, transform) {\n  if (transform === void 0) {\n    transform = identity;\n  }\n\n  var touchEvents = getEventTouches(event);\n\n  var _ref = touchEvents ? touchEvents[0] : event,\n      clientX = _ref.clientX,\n      clientY = _ref.clientY;\n\n  return transform([clientX, clientY]);\n}\n/**\r\n * Gets two touches event data\r\n * @param event\r\n * @returns two touches event data\r\n */\n\n\nfunction getTwoTouchesEventValues(event, pointerIds, transform) {\n  if (transform === void 0) {\n    transform = identity;\n  }\n\n  var _Array$from$filter = Array.from(event.touches).filter(function (t) {\n    return pointerIds.includes(t.identifier);\n  }),\n      A = _Array$from$filter[0],\n      B = _Array$from$filter[1];\n\n  var dx = B.clientX - A.clientX;\n  var dy = B.clientY - A.clientY;\n  var cx = (B.clientX + A.clientX) / 2;\n  var cy = (B.clientY + A.clientY) / 2; // const e: any = 'nativeEvent' in event ? event.nativeEvent : event\n\n  var distance = Math.hypot(dx, dy); // FIXME rotation has inconsistant values so we're not using it atm\n  // const angle = (e.rotation as number) ?? -(Math.atan2(dx, dy) * 180) / Math.PI\n\n  var angle = -(Math.atan2(dx, dy) * 180) / Math.PI;\n  var values = transform([distance, angle]);\n  var origin = transform([cx, cy]);\n  return {\n    values: values,\n    origin: origin\n  };\n}\n/**\r\n * Gets scroll event values\r\n * @param event\r\n * @returns scroll event values\r\n */\n\n\nfunction getScrollEventValues(event, transform) {\n  if (transform === void 0) {\n    transform = identity;\n  } // If the currentTarget is the window then we return the scrollX/Y position.\n  // If not (ie the currentTarget is a DOM element), then we return scrollLeft/Top\n\n\n  var _event$currentTarget = event.currentTarget,\n      scrollX = _event$currentTarget.scrollX,\n      scrollY = _event$currentTarget.scrollY,\n      scrollLeft = _event$currentTarget.scrollLeft,\n      scrollTop = _event$currentTarget.scrollTop;\n  return transform([scrollX || scrollLeft || 0, scrollY || scrollTop || 0]);\n} // wheel delta defaults from https://github.com/facebookarchive/fixed-data-table/blob/master/src/vendor_upstream/dom/normalizeWheel.js\n\n\nvar LINE_HEIGHT = 40;\nvar PAGE_HEIGHT = 800;\n/**\r\n * Gets wheel event values.\r\n * @param event\r\n * @returns wheel event values\r\n */\n\nfunction getWheelEventValues(event, transform) {\n  if (transform === void 0) {\n    transform = identity;\n  }\n\n  var deltaX = event.deltaX,\n      deltaY = event.deltaY,\n      deltaMode = event.deltaMode; // normalize wheel values, especially for Firefox\n\n  if (deltaMode === 1) {\n    deltaX *= LINE_HEIGHT;\n    deltaY *= LINE_HEIGHT;\n  } else if (deltaMode === 2) {\n    deltaX *= PAGE_HEIGHT;\n    deltaY *= PAGE_HEIGHT;\n  }\n\n  return transform([deltaX, deltaY]);\n}\n/**\r\n * Gets webkit gesture event values.\r\n * @param event\r\n * @returns webkit gesture event values\r\n */\n\n\nfunction getWebkitGestureEventValues(event, transform) {\n  if (transform === void 0) {\n    transform = identity;\n  }\n\n  return transform([event.scale * WEBKIT_DISTANCE_SCALE_FACTOR, event.rotation]);\n}\n\nvar DEFAULT_DRAG_DELAY = 180;\nvar DEFAULT_RUBBERBAND = 0.15;\nvar DEFAULT_SWIPE_VELOCITY = 0.5;\nvar DEFAULT_SWIPE_DISTANCE = 50;\nvar DEFAULT_SWIPE_DURATION = 250;\nvar InternalGestureOptionsNormalizers = {\n  threshold: function threshold(value) {\n    if (value === void 0) {\n      value = 0;\n    }\n\n    return ensureVector(value);\n  },\n  rubberband: function rubberband(value) {\n    if (value === void 0) {\n      value = 0;\n    }\n\n    switch (value) {\n      case true:\n        return ensureVector(DEFAULT_RUBBERBAND);\n\n      case false:\n        return ensureVector(0);\n\n      default:\n        return ensureVector(value);\n    }\n  },\n  enabled: function enabled(value) {\n    if (value === void 0) {\n      value = true;\n    }\n\n    return value;\n  },\n  triggerAllEvents: function triggerAllEvents(value) {\n    if (value === void 0) {\n      value = false;\n    }\n\n    return value;\n  },\n  initial: function initial(value) {\n    if (value === void 0) {\n      value = 0;\n    }\n\n    if (typeof value === 'function') return value;\n    return ensureVector(value);\n  },\n  transform: true\n};\n\nvar InternalCoordinatesOptionsNormalizers = /*#__PURE__*/_extends({}, InternalGestureOptionsNormalizers, {\n  axis: true,\n  lockDirection: function lockDirection(value) {\n    if (value === void 0) {\n      value = false;\n    }\n\n    return value;\n  },\n  bounds: function bounds(value) {\n    if (value === void 0) {\n      value = {};\n    }\n\n    if (typeof value === 'function') return function (state) {\n      return InternalCoordinatesOptionsNormalizers.bounds(value(state));\n    };\n    var _value2 = value,\n        _value2$left = _value2.left,\n        left = _value2$left === void 0 ? -Infinity : _value2$left,\n        _value2$right = _value2.right,\n        right = _value2$right === void 0 ? Infinity : _value2$right,\n        _value2$top = _value2.top,\n        top = _value2$top === void 0 ? -Infinity : _value2$top,\n        _value2$bottom = _value2.bottom,\n        bottom = _value2$bottom === void 0 ? Infinity : _value2$bottom;\n    return [[left, right], [top, bottom]];\n  }\n});\n\nvar isBrowser = typeof window !== 'undefined' && window.document && window.document.createElement;\nvar InternalGenericOptionsNormalizers = {\n  enabled: function enabled(value) {\n    if (value === void 0) {\n      value = true;\n    }\n\n    return value;\n  },\n  domTarget: true,\n  window: /*#__PURE__*/function (_window) {\n    function window(_x) {\n      return _window.apply(this, arguments);\n    }\n\n    window.toString = function () {\n      return _window.toString();\n    };\n\n    return window;\n  }(function (value) {\n    if (value === void 0) {\n      value = isBrowser ? window : undefined;\n    }\n\n    return value;\n  }),\n  eventOptions: function eventOptions(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        _ref$passive = _ref.passive,\n        passive = _ref$passive === void 0 ? true : _ref$passive,\n        _ref$capture = _ref.capture,\n        capture = _ref$capture === void 0 ? false : _ref$capture;\n\n    return {\n      passive: passive,\n      capture: capture\n    };\n  },\n  transform: true\n};\n\nvar InternalDistanceAngleOptionsNormalizers = /*#__PURE__*/_extends({}, InternalGestureOptionsNormalizers, {\n  bounds: function bounds(_value, _key, _ref2) {\n    var _ref2$distanceBounds = _ref2.distanceBounds,\n        distanceBounds = _ref2$distanceBounds === void 0 ? {} : _ref2$distanceBounds,\n        _ref2$angleBounds = _ref2.angleBounds,\n        angleBounds = _ref2$angleBounds === void 0 ? {} : _ref2$angleBounds;\n\n    var _distanceBounds = function _distanceBounds(state) {\n      var D = assignDefault(valueFn(distanceBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [D.min, D.max];\n    };\n\n    var _angleBounds = function _angleBounds(state) {\n      var A = assignDefault(valueFn(angleBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [A.min, A.max];\n    };\n\n    if (typeof distanceBounds !== 'function' && typeof angleBounds !== 'function') return [_distanceBounds(), _angleBounds()];\n    return function (state) {\n      return [_distanceBounds(state), _angleBounds(state)];\n    };\n  }\n});\n\nvar InternalDragOptionsNormalizers = /*#__PURE__*/_extends({}, InternalCoordinatesOptionsNormalizers, {\n  useTouch: function useTouch(value) {\n    if (value === void 0) {\n      value = false;\n    }\n\n    return value && supportsTouchEvents();\n  },\n  experimental_preventWindowScrollY: function experimental_preventWindowScrollY(value) {\n    if (value === void 0) {\n      value = false;\n    }\n\n    return value;\n  },\n  threshold: function threshold(v, _k, _ref3) {\n    var _ref3$filterTaps = _ref3.filterTaps,\n        filterTaps = _ref3$filterTaps === void 0 ? false : _ref3$filterTaps,\n        _ref3$lockDirection = _ref3.lockDirection,\n        lockDirection = _ref3$lockDirection === void 0 ? false : _ref3$lockDirection,\n        _ref3$axis = _ref3.axis,\n        axis = _ref3$axis === void 0 ? undefined : _ref3$axis;\n    var A = ensureVector(v, filterTaps ? 3 : lockDirection ? 1 : axis ? 1 : 0);\n    this.filterTaps = filterTaps;\n    return A;\n  },\n  swipeVelocity: function swipeVelocity(v) {\n    if (v === void 0) {\n      v = DEFAULT_SWIPE_VELOCITY;\n    }\n\n    return ensureVector(v);\n  },\n  swipeDistance: function swipeDistance(v) {\n    if (v === void 0) {\n      v = DEFAULT_SWIPE_DISTANCE;\n    }\n\n    return ensureVector(v);\n  },\n  swipeDuration: function swipeDuration(value) {\n    if (value === void 0) {\n      value = DEFAULT_SWIPE_DURATION;\n    }\n\n    return value;\n  },\n  delay: function delay(value) {\n    if (value === void 0) {\n      value = 0;\n    }\n\n    switch (value) {\n      case true:\n        return DEFAULT_DRAG_DELAY;\n\n      case false:\n        return 0;\n\n      default:\n        return value;\n    }\n  }\n});\n\nfunction getInternalGenericOptions(config) {\n  if (config === void 0) {\n    config = {};\n  } // TODO warn when passive is set to true and domTarget is undefined\n\n\n  return resolveWith(config, InternalGenericOptionsNormalizers);\n}\n\nfunction getInternalCoordinatesOptions(config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  return resolveWith(config, InternalCoordinatesOptionsNormalizers);\n}\n\nfunction getInternalDistanceAngleOptions(config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  return resolveWith(config, InternalDistanceAngleOptionsNormalizers);\n}\n\nfunction getInternalDragOptions(config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  return resolveWith(config, InternalDragOptionsNormalizers);\n}\n\nfunction _buildMoveConfig(_ref) {\n  var domTarget = _ref.domTarget,\n      eventOptions = _ref.eventOptions,\n      window = _ref.window,\n      enabled = _ref.enabled,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"domTarget\", \"eventOptions\", \"window\", \"enabled\"]);\n\n  var opts = getInternalGenericOptions({\n    domTarget: domTarget,\n    eventOptions: eventOptions,\n    window: window,\n    enabled: enabled\n  });\n  opts.move = getInternalCoordinatesOptions(rest);\n  return opts;\n}\n\nfunction _buildHoverConfig(_ref2) {\n  var domTarget = _ref2.domTarget,\n      eventOptions = _ref2.eventOptions,\n      window = _ref2.window,\n      enabled = _ref2.enabled,\n      rest = _objectWithoutPropertiesLoose(_ref2, [\"domTarget\", \"eventOptions\", \"window\", \"enabled\"]);\n\n  var opts = getInternalGenericOptions({\n    domTarget: domTarget,\n    eventOptions: eventOptions,\n    window: window,\n    enabled: enabled\n  });\n  opts.hover = _extends({\n    enabled: true\n  }, rest);\n  return opts;\n}\n\nfunction _buildDragConfig(_ref3) {\n  var domTarget = _ref3.domTarget,\n      eventOptions = _ref3.eventOptions,\n      window = _ref3.window,\n      enabled = _ref3.enabled,\n      rest = _objectWithoutPropertiesLoose(_ref3, [\"domTarget\", \"eventOptions\", \"window\", \"enabled\"]);\n\n  var opts = getInternalGenericOptions({\n    domTarget: domTarget,\n    eventOptions: eventOptions,\n    window: window,\n    enabled: enabled\n  });\n  opts.drag = getInternalDragOptions(rest);\n  return opts;\n}\n\nfunction _buildPinchConfig(_ref4) {\n  var domTarget = _ref4.domTarget,\n      eventOptions = _ref4.eventOptions,\n      window = _ref4.window,\n      enabled = _ref4.enabled,\n      rest = _objectWithoutPropertiesLoose(_ref4, [\"domTarget\", \"eventOptions\", \"window\", \"enabled\"]);\n\n  var opts = getInternalGenericOptions({\n    domTarget: domTarget,\n    eventOptions: eventOptions,\n    window: window,\n    enabled: enabled\n  });\n  opts.pinch = getInternalDistanceAngleOptions(rest);\n  return opts;\n}\n\nfunction _buildScrollConfig(_ref5) {\n  var domTarget = _ref5.domTarget,\n      eventOptions = _ref5.eventOptions,\n      window = _ref5.window,\n      enabled = _ref5.enabled,\n      rest = _objectWithoutPropertiesLoose(_ref5, [\"domTarget\", \"eventOptions\", \"window\", \"enabled\"]);\n\n  var opts = getInternalGenericOptions({\n    domTarget: domTarget,\n    eventOptions: eventOptions,\n    window: window,\n    enabled: enabled\n  });\n  opts.scroll = getInternalCoordinatesOptions(rest);\n  return opts;\n}\n\nfunction _buildWheelConfig(_ref6) {\n  var domTarget = _ref6.domTarget,\n      eventOptions = _ref6.eventOptions,\n      window = _ref6.window,\n      enabled = _ref6.enabled,\n      rest = _objectWithoutPropertiesLoose(_ref6, [\"domTarget\", \"eventOptions\", \"window\", \"enabled\"]);\n\n  var opts = getInternalGenericOptions({\n    domTarget: domTarget,\n    eventOptions: eventOptions,\n    window: window,\n    enabled: enabled\n  });\n  opts.wheel = getInternalCoordinatesOptions(rest);\n  return opts;\n}\n\nfunction buildComplexConfig(config, actions) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  if (actions === void 0) {\n    actions = new Set();\n  }\n\n  var _config = config,\n      drag = _config.drag,\n      wheel = _config.wheel,\n      move = _config.move,\n      scroll = _config.scroll,\n      pinch = _config.pinch,\n      hover = _config.hover,\n      eventOptions = _config.eventOptions,\n      window = _config.window,\n      transform = _config.transform,\n      domTarget = _config.domTarget,\n      enabled = _config.enabled;\n  var mergedConfig = getInternalGenericOptions({\n    domTarget: domTarget,\n    eventOptions: eventOptions,\n    transform: transform,\n    window: window,\n    enabled: enabled\n  });\n  if (actions.has('onDrag')) mergedConfig.drag = getInternalDragOptions(drag);\n  if (actions.has('onWheel')) mergedConfig.wheel = getInternalCoordinatesOptions(wheel);\n  if (actions.has('onScroll')) mergedConfig.scroll = getInternalCoordinatesOptions(scroll);\n  if (actions.has('onMove')) mergedConfig.move = getInternalCoordinatesOptions(move);\n  if (actions.has('onPinch')) mergedConfig.pinch = getInternalDistanceAngleOptions(pinch);\n  if (actions.has('onHover')) mergedConfig.hover = _extends({\n    enabled: true\n  }, hover);\n  return mergedConfig;\n}\n\nfunction getInitial(mixed) {\n  return _extends({\n    _active: false,\n    _blocked: false,\n    _intentional: [false, false],\n    _movement: [0, 0],\n    _initial: [0, 0],\n    _bounds: [[-Infinity, Infinity], [-Infinity, Infinity]],\n    _lastEventType: undefined,\n    _dragStarted: false,\n    _dragPreventScroll: false,\n    _dragIsTap: true,\n    _dragDelayed: false,\n    event: undefined,\n    intentional: false,\n    values: [0, 0],\n    velocities: [0, 0],\n    delta: [0, 0],\n    movement: [0, 0],\n    offset: [0, 0],\n    lastOffset: [0, 0],\n    direction: [0, 0],\n    initial: [0, 0],\n    previous: [0, 0],\n    first: false,\n    last: false,\n    active: false,\n    timeStamp: 0,\n    startTime: 0,\n    elapsedTime: 0,\n    cancel: noop,\n    canceled: false,\n    memo: undefined,\n    args: undefined\n  }, mixed);\n}\n\nfunction getInitialState() {\n  var shared = {\n    hovering: false,\n    scrolling: false,\n    wheeling: false,\n    dragging: false,\n    moving: false,\n    pinching: false,\n    touches: 0,\n    buttons: 0,\n    down: false,\n    shiftKey: false,\n    altKey: false,\n    metaKey: false,\n    ctrlKey: false,\n    locked: false\n  };\n  var drag = getInitial({\n    _pointerId: undefined,\n    axis: undefined,\n    xy: [0, 0],\n    vxvy: [0, 0],\n    velocity: 0,\n    distance: 0,\n    tap: false,\n    swipe: [0, 0]\n  });\n  var pinch = getInitial({\n    // @ts-expect-error when used _pointerIds we can assert its type will be [number, number]\n    _pointerIds: [],\n    da: [0, 0],\n    vdva: [0, 0],\n    // @ts-expect-error origin can never be passed as undefined in userland\n    origin: undefined,\n    turns: 0\n  });\n  var wheel = getInitial({\n    axis: undefined,\n    xy: [0, 0],\n    vxvy: [0, 0],\n    velocity: 0,\n    distance: 0\n  });\n  var move = getInitial({\n    axis: undefined,\n    xy: [0, 0],\n    vxvy: [0, 0],\n    velocity: 0,\n    distance: 0\n  });\n  var scroll = getInitial({\n    axis: undefined,\n    xy: [0, 0],\n    vxvy: [0, 0],\n    velocity: 0,\n    distance: 0\n  });\n  return {\n    shared: shared,\n    drag: drag,\n    pinch: pinch,\n    wheel: wheel,\n    move: move,\n    scroll: scroll\n  };\n}\n\nvar RecognizersMap = /*#__PURE__*/new Map();\n\nvar identity$1 = function identity(xy) {\n  return xy;\n};\n/**\r\n * @private\r\n * Recognizer abstract class.\r\n */\n\n\nvar Recognizer = /*#__PURE__*/function () {\n  /**\r\n   * Creates an instance of a gesture recognizer.\r\n   * @param stateKey drag, move, pinch, etc.\r\n   * @param controller the controller attached to the gesture\r\n   * @param [args] the args that should be passed to the gesture handler\r\n   */\n  function Recognizer(controller, args) {\n    var _this = this;\n\n    if (args === void 0) {\n      args = [];\n    }\n\n    this.controller = controller;\n    this.args = args;\n    this.debounced = true; // Convenience method to set a timeout for a given gesture\n\n    this.setTimeout = function (callback, ms) {\n      var _window;\n\n      if (ms === void 0) {\n        ms = 140;\n      }\n\n      clearTimeout(_this.controller.timeouts[_this.stateKey]);\n\n      for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        args[_key - 2] = arguments[_key];\n      }\n\n      _this.controller.timeouts[_this.stateKey] = (_window = window).setTimeout.apply(_window, [callback, ms].concat(args));\n    }; // Convenience method to clear a timeout for a given gesture\n\n\n    this.clearTimeout = function () {\n      clearTimeout(_this.controller.timeouts[_this.stateKey]);\n    };\n    /**\r\n     * Fires the gesture handler\r\n     */\n\n\n    this.fireGestureHandler = function (forceFlag) {\n      if (forceFlag === void 0) {\n        forceFlag = false;\n      }\n      /**\r\n       * If the gesture has been blocked (this can happen when the gesture has started in an unwanted direction),\r\n       * clean everything and don't do anything.\r\n       */\n\n\n      if (_this.state._blocked) {\n        // we need debounced gestures to end by themselves\n        if (!_this.debounced) {\n          _this.state._active = false;\n\n          _this.clean();\n        }\n\n        return null;\n      } // If the gesture has no intentional dimension, don't fire the handler.\n\n\n      if (!forceFlag && !_this.state.intentional && !_this.config.triggerAllEvents) return null;\n\n      if (_this.state.intentional) {\n        var prev_active = _this.state.active;\n        var next_active = _this.state._active;\n        _this.state.active = next_active;\n        _this.state.first = next_active && !prev_active;\n        _this.state.last = prev_active && !next_active;\n        _this.controller.state.shared[_this.ingKey] = next_active; // Sets dragging, pinching, etc. to the gesture active state\n      }\n\n      var touches = _this.controller.pointerIds.size || _this.controller.touchIds.size;\n      var down = _this.controller.state.shared.buttons > 0 || touches > 0;\n\n      var state = _extends({}, _this.controller.state.shared, _this.state, _this.mapStateValues(_this.state), {\n        locked: !!document.pointerLockElement,\n        touches: touches,\n        down: down\n      }); // @ts-expect-error\n\n\n      var newMemo = _this.handler(state); // Sets memo to the returned value of the handler (unless it's not undefined)\n\n\n      _this.state.memo = newMemo !== void 0 ? newMemo : _this.state.memo;\n      return state;\n    };\n\n    this.controller = controller;\n    this.args = args;\n  } // Returns the gesture config\n\n\n  var _proto = Recognizer.prototype; // Convenience method to update the shared state\n\n  _proto.updateSharedState = function updateSharedState(sharedState) {\n    Object.assign(this.controller.state.shared, sharedState);\n  } // Convenience method to update the gesture state\n  ;\n\n  _proto.updateGestureState = function updateGestureState(gestureState) {\n    Object.assign(this.state, gestureState);\n  }\n  /**\r\n   * Returns state properties depending on the movement and state.\r\n   *\r\n   * Should be overriden for custom behavior, doesn't do anything in the implementation\r\n   * below.\r\n   */\n  ;\n\n  _proto.checkIntentionality = function checkIntentionality(_intentional, _movement) {\n    return {\n      _intentional: _intentional,\n      _blocked: false\n    };\n  }\n  /**\r\n   * Returns basic movement properties for the gesture based on the next values and current state.\r\n   */\n  ;\n\n  _proto.getMovement = function getMovement(values) {\n    var _this$config = this.config,\n        rubberband = _this$config.rubberband,\n        T = _this$config.threshold;\n    var _this$state = this.state,\n        _bounds = _this$state._bounds,\n        _initial = _this$state._initial,\n        _active = _this$state._active,\n        wasIntentional = _this$state._intentional,\n        lastOffset = _this$state.lastOffset,\n        prevMovement = _this$state.movement;\n    var M = this.getInternalMovement(values, this.state);\n\n    var _T = this.transform(T).map(Math.abs);\n\n    var i0 = wasIntentional[0] === false ? getIntentionalDisplacement(M[0], _T[0]) : wasIntentional[0];\n    var i1 = wasIntentional[1] === false ? getIntentionalDisplacement(M[1], _T[1]) : wasIntentional[1]; // Get gesture specific state properties based on intentionality and movement.\n\n    var intentionalityCheck = this.checkIntentionality([i0, i1], M);\n\n    if (intentionalityCheck._blocked) {\n      return _extends({}, intentionalityCheck, {\n        _movement: M,\n        delta: [0, 0]\n      });\n    }\n\n    var _intentional = intentionalityCheck._intentional;\n    var _movement = M;\n    /**\r\n     * The movement sent to the handler has 0 in its dimensions when intentionality is false.\r\n     * It is calculated from the actual movement minus the threshold.\r\n     */\n\n    var movement = [_intentional[0] !== false ? M[0] - _intentional[0] : 0, _intentional[1] !== false ? M[1] - _intentional[1] : 0];\n    var offset = addV(movement, lastOffset);\n    /**\r\n     * Rubberband should be 0 when the gesture is no longer active, so that movement\r\n     * and offset can return within their bounds.\r\n     */\n\n    var _rubberband = _active ? rubberband : [0, 0];\n\n    movement = computeRubberband(_bounds, addV(movement, _initial), _rubberband);\n    return _extends({}, intentionalityCheck, {\n      intentional: _intentional[0] !== false || _intentional[1] !== false,\n      _initial: _initial,\n      _movement: _movement,\n      movement: movement,\n      values: values,\n      offset: computeRubberband(_bounds, offset, _rubberband),\n      delta: subV(movement, prevMovement)\n    });\n  } // Cleans the gesture. Can be overriden by gestures.\n  ;\n\n  _proto.clean = function clean() {\n    this.clearTimeout();\n  };\n\n  _createClass(Recognizer, [{\n    key: \"config\",\n    get: function get() {\n      return this.controller.config[this.stateKey];\n    } // Is the gesture enabled\n\n  }, {\n    key: \"enabled\",\n    get: function get() {\n      return this.controller.config.enabled && this.config.enabled;\n    } // Returns the controller state for a given gesture\n\n  }, {\n    key: \"state\",\n    get: function get() {\n      return this.controller.state[this.stateKey];\n    } // Returns the gesture handler\n\n  }, {\n    key: \"handler\",\n    get: function get() {\n      return this.controller.handlers[this.stateKey];\n    }\n  }, {\n    key: \"transform\",\n    get: function get() {\n      return this.config.transform || this.controller.config.transform || identity$1;\n    }\n  }]);\n\n  return Recognizer;\n}(); //--------------------------------------------\n\n\nfunction getIntentionalDisplacement(movement, threshold) {\n  if (Math.abs(movement) >= threshold) {\n    return sign(movement) * threshold;\n  } else {\n    return false;\n  }\n}\n\nfunction computeRubberband(bounds, _ref, _ref2) {\n  var Vx = _ref[0],\n      Vy = _ref[1];\n  var Rx = _ref2[0],\n      Ry = _ref2[1];\n  var _bounds$ = bounds[0],\n      X1 = _bounds$[0],\n      X2 = _bounds$[1],\n      _bounds$2 = bounds[1],\n      Y1 = _bounds$2[0],\n      Y2 = _bounds$2[1];\n  return [rubberbandIfOutOfBounds(Vx, X1, X2, Rx), rubberbandIfOutOfBounds(Vy, Y1, Y2, Ry)];\n}\n/**\r\n * Returns a generic, common payload for all gestures from an event.\r\n */\n\n\nfunction getGenericPayload(_ref3, event, isStartEvent) {\n  var state = _ref3.state;\n  var timeStamp = event.timeStamp,\n      _lastEventType = event.type;\n  var previous = state.values;\n  var elapsedTime = isStartEvent ? 0 : timeStamp - state.startTime;\n  return {\n    _lastEventType: _lastEventType,\n    event: event,\n    timeStamp: timeStamp,\n    elapsedTime: elapsedTime,\n    previous: previous\n  };\n}\n/**\r\n * Returns the reinitialized start state for the gesture.\r\n * Should be common to all gestures.\r\n */\n\n\nfunction getStartGestureState(_ref4, values, event) {\n  var state = _ref4.state,\n      config = _ref4.config,\n      stateKey = _ref4.stateKey,\n      args = _ref4.args;\n  var offset = state.offset;\n  var startTime = event.timeStamp;\n  var initial = config.initial,\n      bounds = config.bounds;\n\n  var _state = _extends({}, getInitialState()[stateKey], {\n    _active: true,\n    args: args,\n    values: values,\n    initial: values,\n    offset: offset,\n    lastOffset: offset,\n    startTime: startTime\n  });\n\n  return _extends({}, _state, {\n    _initial: valueFn(initial, _state),\n    _bounds: valueFn(bounds, _state)\n  });\n}\n\nfunction partial(func, state) {\n  return function (event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    } // @ts-ignore\n\n\n    return func.call.apply(func, [this, _extends({}, state, {\n      event: event\n    })].concat(args));\n  };\n}\n/**\r\n * The controller will keep track of the state for all gestures and also keep\r\n * track of timeouts, and window listeners.\r\n */\n\n\nvar Controller = function Controller(classes) {\n  var _this = this;\n\n  this.classes = classes;\n  this.pointerIds = new Set(); // register Pointer Events pointerIds\n\n  this.touchIds = new Set(); // register Touch Events identifiers\n\n  this.supportsTouchEvents = supportsTouchEvents();\n  this.supportsGestureEvents = supportsGestureEvents();\n\n  this.bind = function () {\n    var bindings = {};\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    for (var _iterator = _createForOfIteratorHelperLoose(_this.classes), _step; !(_step = _iterator()).done;) {\n      var RecognizerClass = _step.value;\n      new RecognizerClass(_this, args).addBindings(bindings);\n    } // we also add event bindings for native handlers\n\n\n    for (var _i = 0, _Object$entries = Object.entries(_this.nativeRefs); _i < _Object$entries.length; _i++) {\n      var _Object$entries$_i = _Object$entries[_i],\n          event = _Object$entries$_i[0],\n          handler = _Object$entries$_i[1];\n      addBindings(bindings, event, partial(handler, _extends({}, _this.state.shared, {\n        args: args\n      })));\n    }\n\n    if (_this.config.domTarget) {\n      // If config.domTarget is set we add event listeners to it and return the clean function.\n      return updateDomListeners(_this, bindings);\n    } else {\n      // If not, we return an object that contains gesture handlers mapped to react handler event keys.\n      return getPropsListener(_this, bindings);\n    }\n  };\n\n  this.effect = function () {\n    if (_this.config.domTarget) _this.bind();\n    return _this.clean;\n  };\n  /**\r\n   * Function ran on component unmount: cleans timeouts and removes dom listeners set by the bind function.\r\n   */\n\n\n  this.clean = function () {\n    var domTarget = getDomTargetFromConfig(_this.config);\n    var eventOptions = _this.config.eventOptions;\n    if (domTarget) removeListeners(domTarget, takeAll(_this.domListeners), eventOptions);\n    Object.values(_this.timeouts).forEach(clearTimeout);\n    clearAllWindowListeners(_this);\n  };\n\n  this.classes = classes;\n  this.state = getInitialState();\n  this.timeouts = {};\n  this.domListeners = [];\n  this.windowListeners = {};\n};\n\nfunction addEventIds(controller, event) {\n  var idList = 'pointerId' in event ? controller.pointerIds : controller.touchIds;\n  getPointerIds(event).forEach(idList.add, idList);\n}\n\nfunction removeEventIds(controller, event) {\n  var idList = 'pointerId' in event ? controller.pointerIds : controller.touchIds;\n  getPointerIds(event).forEach(idList[\"delete\"], idList);\n}\n\nfunction clearAllWindowListeners(controller) {\n  var _controller$config = controller.config,\n      el = _controller$config.window,\n      eventOptions = _controller$config.eventOptions,\n      windowListeners = controller.windowListeners;\n  if (!el) return;\n\n  for (var stateKey in windowListeners) {\n    var handlers = windowListeners[stateKey];\n    removeListeners(el, handlers, eventOptions);\n  }\n\n  controller.windowListeners = {};\n}\n\nfunction clearWindowListeners(_ref, stateKey, options) {\n  var config = _ref.config,\n      windowListeners = _ref.windowListeners;\n\n  if (options === void 0) {\n    options = config.eventOptions;\n  }\n\n  if (!config.window) return;\n  removeListeners(config.window, windowListeners[stateKey], options);\n  delete windowListeners[stateKey];\n}\n\nfunction updateWindowListeners(_ref2, stateKey, listeners, options) {\n  var config = _ref2.config,\n      windowListeners = _ref2.windowListeners;\n\n  if (listeners === void 0) {\n    listeners = [];\n  }\n\n  if (options === void 0) {\n    options = config.eventOptions;\n  }\n\n  if (!config.window) return;\n  removeListeners(config.window, windowListeners[stateKey], options);\n  addListeners(config.window, windowListeners[stateKey] = listeners, options);\n}\n\nfunction updateDomListeners(_ref3, bindings) {\n  var config = _ref3.config,\n      domListeners = _ref3.domListeners;\n  var domTarget = getDomTargetFromConfig(config);\n  if (!domTarget) throw new Error('domTarget must be defined');\n  var eventOptions = config.eventOptions;\n  removeListeners(domTarget, takeAll(domListeners), eventOptions);\n\n  for (var _i2 = 0, _Object$entries2 = Object.entries(bindings); _i2 < _Object$entries2.length; _i2++) {\n    var _Object$entries2$_i = _Object$entries2[_i2],\n        key = _Object$entries2$_i[0],\n        fns = _Object$entries2$_i[1];\n    var name = key.slice(2).toLowerCase();\n    domListeners.push([name, chainFns.apply(void 0, fns)]);\n  }\n\n  addListeners(domTarget, domListeners, eventOptions);\n}\n\nfunction getPropsListener(_ref4, bindings) {\n  var config = _ref4.config;\n  var props = {};\n  var captureString = config.eventOptions.capture ? 'Capture' : '';\n\n  for (var _i3 = 0, _Object$entries3 = Object.entries(bindings); _i3 < _Object$entries3.length; _i3++) {\n    var _Object$entries3$_i = _Object$entries3[_i3],\n        event = _Object$entries3$_i[0],\n        fns = _Object$entries3$_i[1];\n    var fnsArray = Array.isArray(fns) ? fns : [fns];\n    var key = event + captureString;\n    props[key] = chainFns.apply(void 0, fnsArray);\n  }\n\n  return props;\n}\n\nfunction takeAll(array) {\n  if (array === void 0) {\n    array = [];\n  }\n\n  return array.splice(0, array.length);\n}\n\nfunction getDomTargetFromConfig(_ref5) {\n  var domTarget = _ref5.domTarget;\n  return domTarget && 'current' in domTarget ? domTarget.current : domTarget;\n}\n/**\r\n * bindings is an object which keys match ReactEventHandlerKeys.\r\n * Since a recognizer might want to bind a handler function to an event key already used by a previously\r\n * added recognizer, we need to make sure that each event key is an array of all the functions mapped for\r\n * that key.\r\n */\n\n\nfunction addBindings(bindings, name, fn) {\n  if (!bindings[name]) bindings[name] = [];\n  bindings[name].push(fn);\n}\n\nfunction addListeners(el, listeners, options) {\n  if (listeners === void 0) {\n    listeners = [];\n  }\n\n  if (options === void 0) {\n    options = {};\n  }\n\n  for (var _iterator2 = _createForOfIteratorHelperLoose(listeners), _step2; !(_step2 = _iterator2()).done;) {\n    var _step2$value = _step2.value,\n        eventName = _step2$value[0],\n        eventHandler = _step2$value[1];\n    el.addEventListener(eventName, eventHandler, options);\n  }\n}\n\nfunction removeListeners(el, listeners, options) {\n  if (listeners === void 0) {\n    listeners = [];\n  }\n\n  if (options === void 0) {\n    options = {};\n  }\n\n  for (var _iterator3 = _createForOfIteratorHelperLoose(listeners), _step3; !(_step3 = _iterator3()).done;) {\n    var _step3$value = _step3.value,\n        eventName = _step3$value[0],\n        eventHandler = _step3$value[1];\n    el.removeEventListener(eventName, eventHandler, options);\n  }\n}\n/* eslint-disable react-hooks/exhaustive-deps */\n\n/**\r\n * Utility hook called by all gesture hooks and that will be responsible for the internals.\r\n *\r\n * @param handlers\r\n * @param classes\r\n * @param config\r\n * @param nativeHandlers - native handlers such as onClick, onMouseDown, etc.\r\n */\n\n\nfunction useRecognizers(handlers, config, nativeHandlers) {\n  if (nativeHandlers === void 0) {\n    nativeHandlers = {};\n  }\n\n  var classes = resolveClasses(handlers);\n  var controller = React.useMemo(function () {\n    return new Controller(classes);\n  }, []);\n  controller.config = config;\n  controller.handlers = handlers;\n  controller.nativeRefs = nativeHandlers;\n  React.useEffect(controller.effect, []); // @ts-ignore\n\n  if (controller.config.domTarget) return deprecationNoticeForDomTarget; // @ts-ignore\n\n  return controller.bind;\n}\n\nfunction deprecationNoticeForDomTarget() {\n  if (process.env.NODE_ENV === 'development') {\n    console.warn(\"Deprecation notice: When the `domTarget` option is specified, you don't need to write `useEffect(bind, [bind])` anymore: event binding is now made handled internally to this lib.\\n\\nNext version won't return anything when `domTarget` is provided, therefore your code will break if you try to call `useEffect`.\");\n  }\n}\n\nfunction resolveClasses(internalHandlers) {\n  var classes = new Set();\n  if (internalHandlers.drag) classes.add(RecognizersMap.get('drag'));\n  if (internalHandlers.wheel) classes.add(RecognizersMap.get('wheel'));\n  if (internalHandlers.scroll) classes.add(RecognizersMap.get('scroll'));\n  if (internalHandlers.move) classes.add(RecognizersMap.get('move'));\n  if (internalHandlers.pinch) classes.add(RecognizersMap.get('pinch'));\n  if (internalHandlers.hover) classes.add(RecognizersMap.get('hover'));\n  return classes;\n}\n/**\r\n * @private\r\n * Abstract class for coordinates-based gesture recongizers\r\n */\n\n\nvar CoordinatesRecognizer = /*#__PURE__*/function (_Recognizer) {\n  _inheritsLoose(CoordinatesRecognizer, _Recognizer);\n\n  function CoordinatesRecognizer() {\n    return _Recognizer.apply(this, arguments) || this;\n  }\n\n  var _proto = CoordinatesRecognizer.prototype;\n  /**\r\n   * Returns the real movement (without taking intentionality into account)\r\n   */\n\n  _proto.getInternalMovement = function getInternalMovement(values, state) {\n    return subV(values, state.initial);\n  }\n  /**\r\n   * In coordinates-based gesture, this function will detect the first intentional axis,\r\n   * lock the gesture axis if lockDirection is specified in the config, block the gesture\r\n   * if the first intentional axis doesn't match the specified axis in config.\r\n   */\n  ;\n\n  _proto.checkIntentionality = function checkIntentionality(_intentional, _movement) {\n    if (_intentional[0] === false && _intentional[1] === false) {\n      return {\n        _intentional: _intentional,\n        axis: this.state.axis\n      };\n    }\n\n    var _movement$map = _movement.map(Math.abs),\n        absX = _movement$map[0],\n        absY = _movement$map[1];\n\n    var axis = this.state.axis || (absX > absY ? 'x' : absX < absY ? 'y' : undefined);\n    if (!this.config.axis && !this.config.lockDirection) return {\n      _intentional: _intentional,\n      _blocked: false,\n      axis: axis\n    };\n    if (!axis) return {\n      _intentional: [false, false],\n      _blocked: false,\n      axis: axis\n    };\n    if (!!this.config.axis && axis !== this.config.axis) return {\n      _intentional: _intentional,\n      _blocked: true,\n      axis: axis\n    };\n    _intentional[axis === 'x' ? 1 : 0] = false;\n    return {\n      _intentional: _intentional,\n      _blocked: false,\n      axis: axis\n    };\n  };\n\n  _proto.getKinematics = function getKinematics(values, event) {\n    var state = this.getMovement(values);\n\n    if (!state._blocked) {\n      var dt = event.timeStamp - this.state.timeStamp;\n      Object.assign(state, calculateAllKinematics(state.movement, state.delta, dt));\n    }\n\n    return state;\n  };\n\n  _proto.mapStateValues = function mapStateValues(state) {\n    return {\n      xy: state.values,\n      vxvy: state.velocities\n    };\n  };\n\n  return CoordinatesRecognizer;\n}(Recognizer);\n\nvar TAP_DISTANCE_THRESHOLD = 3;\n\nfunction persistEvent(event) {\n  'persist' in event && typeof event.persist === 'function' && event.persist();\n}\n\nvar DragRecognizer = /*#__PURE__*/function (_CoordinatesRecognize) {\n  _inheritsLoose(DragRecognizer, _CoordinatesRecognize);\n\n  function DragRecognizer() {\n    var _this;\n\n    _this = _CoordinatesRecognize.apply(this, arguments) || this;\n    _this.ingKey = 'dragging';\n    _this.stateKey = 'drag'; // TODO add back when setPointerCapture is widely wupported\n    // https://caniuse.com/#search=setPointerCapture\n\n    _this.setPointerCapture = function (event) {\n      // don't perform pointere capture when user wants to use touch events or\n      // when a pointerLockElement exists as this would throw an error\n      if (_this.config.useTouch || document.pointerLockElement) return;\n      var target = event.target,\n          pointerId = event.pointerId;\n\n      if (target && 'setPointerCapture' in target) {\n        // this would work in the DOM but doesn't with react three fiber\n        // target.addEventListener('pointermove', this.onDragChange, this.controller.config.eventOptions)\n        // @ts-expect-error\n        target.setPointerCapture(pointerId);\n      }\n\n      _this.updateGestureState({\n        _dragTarget: target,\n        _dragPointerId: pointerId\n      });\n    };\n\n    _this.releasePointerCapture = function () {\n      if (_this.config.useTouch || document.pointerLockElement) return;\n      var _this$state = _this.state,\n          _dragTarget = _this$state._dragTarget,\n          _dragPointerId = _this$state._dragPointerId;\n\n      if (_dragPointerId && _dragTarget && 'releasePointerCapture' in _dragTarget) {\n        // this would work in the DOM but doesn't with react three fiber\n        // target.removeEventListener('pointermove', this.onDragChange, this.controller.config.eventOptions)\n        if (!('hasPointerCapture' in _dragTarget) || _dragTarget.hasPointerCapture(_dragPointerId)) try {\n          _dragTarget.releasePointerCapture(_dragPointerId);\n        } catch (e) {}\n      }\n    };\n\n    _this.preventScroll = function (event) {\n      if (_this.state._dragPreventScroll && event.cancelable) {\n        event.preventDefault();\n      }\n    };\n\n    _this.getEventId = function (event) {\n      if (_this.config.useTouch) return event.changedTouches[0].identifier;\n      return event.pointerId;\n    };\n\n    _this.isValidEvent = function (event) {\n      // if we were using pointer events only event.isPrimary === 1 would suffice\n      return _this.state._pointerId === _this.getEventId(event);\n    };\n\n    _this.shouldPreventWindowScrollY = _this.config.experimental_preventWindowScrollY && _this.controller.supportsTouchEvents;\n\n    _this.setUpWindowScrollDetection = function (event) {\n      persistEvent(event); // we add window listeners that will prevent the scroll when the user has started dragging\n\n      updateWindowListeners(_this.controller, _this.stateKey, [['touchmove', _this.preventScroll], ['touchend', _this.clean.bind(_assertThisInitialized(_this))], ['touchcancel', _this.clean.bind(_assertThisInitialized(_this))]], {\n        passive: false\n      });\n\n      _this.setTimeout(_this.startDrag.bind(_assertThisInitialized(_this)), 250, event);\n    };\n\n    _this.setUpDelayedDragTrigger = function (event) {\n      _this.state._dragDelayed = true;\n      persistEvent(event);\n\n      _this.setTimeout(_this.startDrag.bind(_assertThisInitialized(_this)), _this.config.delay, event);\n    };\n\n    _this.setStartState = function (event) {\n      var values = getPointerEventValues(event, _this.transform);\n\n      _this.updateSharedState(getGenericEventData(event));\n\n      _this.updateGestureState(_extends({}, getStartGestureState(_assertThisInitialized(_this), values, event), getGenericPayload(_assertThisInitialized(_this), event, true), {\n        _pointerId: _this.getEventId(event)\n      }));\n\n      _this.updateGestureState(_this.getMovement(values));\n    };\n\n    _this.onDragStart = function (event) {\n      addEventIds(_this.controller, event);\n      if (!_this.enabled || _this.state._active) return;\n\n      _this.setStartState(event);\n\n      _this.setPointerCapture(event);\n\n      if (_this.shouldPreventWindowScrollY) _this.setUpWindowScrollDetection(event);else if (_this.config.delay > 0) _this.setUpDelayedDragTrigger(event);else _this.startDrag(event, true); // we pass the values to the startDrag event\n    };\n\n    _this.onDragChange = function (event) {\n      if ( // if the gesture was canceled or\n      _this.state.canceled || // if onDragStart wasn't fired or\n      !_this.state._active || // if the event pointerId doesn't match the one that initiated the drag\n      !_this.isValidEvent(event) || // if the event has the same timestamp as the previous event\n      // note that checking type equality is ONLY for tests \\_()_/\n      _this.state._lastEventType === event.type && event.timeStamp === _this.state.timeStamp) return;\n      var values;\n\n      if (document.pointerLockElement) {\n        var movementX = event.movementX,\n            movementY = event.movementY;\n        values = addV(_this.transform([movementX, movementY]), _this.state.values);\n      } else values = getPointerEventValues(event, _this.transform);\n\n      var kinematics = _this.getKinematics(values, event); // if startDrag hasn't fired\n\n\n      if (!_this.state._dragStarted) {\n        // If the gesture isn't active then respond to the event only if\n        // it's been delayed via the `delay` option, in which case start\n        // the gesture immediately.\n        if (_this.state._dragDelayed) {\n          _this.startDrag(event);\n\n          return;\n        } // if the user wants to prevent vertical window scroll when user starts dragging\n\n\n        if (_this.shouldPreventWindowScrollY) {\n          if (!_this.state._dragPreventScroll && kinematics.axis) {\n            // if the user is dragging horizontally then we should allow the drag\n            if (kinematics.axis === 'x') {\n              _this.startDrag(event);\n            } else {\n              _this.state._active = false;\n              return;\n            }\n          } else return;\n        } else return;\n      }\n\n      var genericEventData = getGenericEventData(event);\n\n      _this.updateSharedState(genericEventData);\n\n      var genericPayload = getGenericPayload(_assertThisInitialized(_this), event); // This verifies if the drag can be assimilated to a tap by checking\n      // if the real distance of the drag (ie not accounting for the threshold) is\n      // greater than the TAP_DISTANCE_THRESHOLD.\n\n      var realDistance = calculateDistance(kinematics._movement);\n      var _dragIsTap = _this.state._dragIsTap;\n      if (_dragIsTap && realDistance >= TAP_DISTANCE_THRESHOLD) _dragIsTap = false;\n\n      _this.updateGestureState(_extends({}, genericPayload, kinematics, {\n        _dragIsTap: _dragIsTap\n      }));\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onDragEnd = function (event) {\n      removeEventIds(_this.controller, event); // if the event pointerId doesn't match the one that initiated the drag\n      // we don't want to end the drag\n\n      if (!_this.isValidEvent(event)) return;\n\n      _this.clean(); // if the gesture is no longer active (ie canceled)\n      // don't do anything\n\n\n      if (!_this.state._active) return;\n      _this.state._active = false;\n      var tap = _this.state._dragIsTap;\n      var _this$state$velocitie = _this.state.velocities,\n          vx = _this$state$velocitie[0],\n          vy = _this$state$velocitie[1];\n      var _this$state$movement = _this.state.movement,\n          mx = _this$state$movement[0],\n          my = _this$state$movement[1];\n      var _this$state$_intentio = _this.state._intentional,\n          ix = _this$state$_intentio[0],\n          iy = _this$state$_intentio[1];\n      var _this$config$swipeVel = _this.config.swipeVelocity,\n          svx = _this$config$swipeVel[0],\n          svy = _this$config$swipeVel[1];\n      var _this$config$swipeDis = _this.config.swipeDistance,\n          sx = _this$config$swipeDis[0],\n          sy = _this$config$swipeDis[1];\n      var sd = _this.config.swipeDuration;\n\n      var endState = _extends({}, getGenericPayload(_assertThisInitialized(_this), event), _this.getMovement(_this.state.values));\n\n      var swipe = [0, 0];\n\n      if (endState.elapsedTime < sd) {\n        if (ix !== false && Math.abs(vx) > svx && Math.abs(mx) > sx) swipe[0] = sign(vx);\n        if (iy !== false && Math.abs(vy) > svy && Math.abs(my) > sy) swipe[1] = sign(vy);\n      }\n\n      _this.updateSharedState({\n        buttons: 0\n      });\n\n      _this.updateGestureState(_extends({}, endState, {\n        tap: tap,\n        swipe: swipe\n      }));\n\n      _this.fireGestureHandler(_this.config.filterTaps && tap === true);\n    };\n\n    _this.clean = function () {\n      _CoordinatesRecognize.prototype.clean.call(_assertThisInitialized(_this));\n\n      _this.state._dragStarted = false;\n\n      _this.releasePointerCapture();\n\n      clearWindowListeners(_this.controller, _this.stateKey);\n    };\n\n    _this.onCancel = function () {\n      if (_this.state.canceled) return;\n\n      _this.updateGestureState({\n        canceled: true,\n        _active: false\n      });\n\n      _this.updateSharedState({\n        buttons: 0\n      });\n\n      setTimeout(function () {\n        return _this.fireGestureHandler();\n      }, 0);\n    };\n\n    _this.onClick = function (event) {\n      if (!_this.state._dragIsTap) event.stopPropagation();\n    };\n\n    return _this;\n  }\n\n  var _proto = DragRecognizer.prototype;\n\n  _proto.startDrag = function startDrag(event, onDragIsStart) {\n    if (onDragIsStart === void 0) {\n      onDragIsStart = false;\n    } // startDrag can happen after a timeout, so we need to check if the gesture is still active\n    // as the user might have lift up the pointer in between.\n\n\n    if ( // if the gesture isn't active (probably means)\n    !this.state._active || // if the drag has already started we should ignore subsequent attempts\n    this.state._dragStarted) return;\n    if (!onDragIsStart) this.setStartState(event);\n    this.updateGestureState({\n      _dragStarted: true,\n      _dragPreventScroll: true,\n      cancel: this.onCancel\n    });\n    this.clearTimeout();\n    this.fireGestureHandler();\n  };\n\n  _proto.addBindings = function addBindings$1(bindings) {\n    if (this.config.useTouch) {\n      addBindings(bindings, 'onTouchStart', this.onDragStart);\n      addBindings(bindings, 'onTouchMove', this.onDragChange); // this is needed for react-three-fiber\n\n      addBindings(bindings, 'onTouchEnd', this.onDragEnd);\n      addBindings(bindings, 'onTouchCancel', this.onDragEnd);\n    } else {\n      addBindings(bindings, 'onPointerDown', this.onDragStart);\n      addBindings(bindings, 'onPointerMove', this.onDragChange); // this is needed for react-three-fiber\n\n      addBindings(bindings, 'onPointerUp', this.onDragEnd);\n      addBindings(bindings, 'onPointerCancel', this.onDragEnd);\n    }\n\n    if (this.config.filterTaps) {\n      var handler = this.controller.config.eventOptions.capture ? 'onClick' : 'onClickCapture';\n      addBindings(bindings, handler, this.onClick);\n    }\n  };\n\n  return DragRecognizer;\n}(CoordinatesRecognizer);\n/**\r\n * Inlined from https://github.com/alexreardon/memoize-one\r\n */\n\n\nfunction memoizeOne(resultFn, isEqual) {\n  var lastThis;\n  var lastArgs = [];\n  var lastResult;\n  var calledOnce = false;\n\n  function memoized() {\n    for (var _len = arguments.length, newArgs = new Array(_len), _key = 0; _key < _len; _key++) {\n      newArgs[_key] = arguments[_key];\n    }\n\n    if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n      return lastResult;\n    }\n\n    lastResult = resultFn.apply(this, newArgs);\n    calledOnce = true;\n    lastThis = this;\n    lastArgs = newArgs;\n    return lastResult;\n  }\n\n  return memoized;\n}\n/**\r\n * Taken from https://github.com/FormidableLabs/react-fast-compare\r\n *\r\n * Dropped comments and ArrayBuffer handling\r\n */\n\n\nfunction equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n    var length, i, keys;\n\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length !== b.length) return false;\n\n      for (i = length; i-- !== 0;) {\n        if (!equal(a[i], b[i])) return false;\n      }\n\n      return true;\n    }\n\n    var it;\n\n    if (typeof Map === 'function' && a instanceof Map && b instanceof Map) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!b.has(i.value[0])) return false;\n      }\n\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      }\n\n      return true;\n    }\n\n    if (typeof Set === 'function' && a instanceof Set && b instanceof Set) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!b.has(i.value[0])) return false;\n      }\n\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;) {\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    }\n\n    if (typeof Element !== 'undefined' && a instanceof Element) return false;\n\n    for (i = length; i-- !== 0;) {\n      if (keys[i] === '_owner' && a.$$typeof) continue;\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n\n    return true;\n  } // true if both NaN, false otherwise  NaN !== NaN  true\n  // eslint-disable-next-line no-self-compare\n\n\n  return a !== a && b !== b;\n}\n\nfunction isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if ((error.message || '').match(/stack|recursion/i)) {\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n\n    throw error;\n  }\n}\n/**\r\n * Drag hook.\r\n *\r\n * @param handler - the function fired every time the drag gesture updates\r\n * @param [config={}] - the config object including generic options and drag options\r\n */\n\n\nfunction useDrag(handler, config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  RecognizersMap.set('drag', DragRecognizer);\n  var buildDragConfig = useRef();\n\n  if (!buildDragConfig.current) {\n    buildDragConfig.current = memoizeOne(_buildDragConfig, isEqual);\n  }\n\n  return useRecognizers({\n    drag: handler\n  }, buildDragConfig.current(config));\n}\n/**\r\n * @private\r\n * Abstract class for distance/angle-based gesture recongizers\r\n */\n\n\nvar DistanceAngleRecognizer = /*#__PURE__*/function (_Recognizer) {\n  _inheritsLoose(DistanceAngleRecognizer, _Recognizer);\n\n  function DistanceAngleRecognizer() {\n    return _Recognizer.apply(this, arguments) || this;\n  }\n\n  var _proto = DistanceAngleRecognizer.prototype;\n\n  _proto.getInternalMovement = function getInternalMovement(values, state) {\n    var prev_a = state.values[1]; // not be defined if ctrl+wheel is used for zoom only\n\n    var d = values[0],\n        _values$ = values[1],\n        a = _values$ === void 0 ? prev_a : _values$;\n    var delta_a = a - prev_a;\n    var next_turns = state.turns;\n    if (Math.abs(delta_a) > 270) next_turns += sign(delta_a);\n    return subV([d, a - 360 * next_turns], state.initial);\n  };\n\n  _proto.getKinematics = function getKinematics(values, event) {\n    var state = this.getMovement(values);\n    var turns = (values[1] - state._movement[1] - this.state.initial[1]) / 360;\n    var dt = event.timeStamp - this.state.timeStamp;\n\n    var _calculateAllKinemati = calculateAllKinematics(state.movement, state.delta, dt),\n        kinematics = _objectWithoutPropertiesLoose(_calculateAllKinemati, [\"distance\", \"velocity\"]);\n\n    return _extends({\n      turns: turns\n    }, state, kinematics);\n  };\n\n  _proto.mapStateValues = function mapStateValues(state) {\n    return {\n      da: state.values,\n      vdva: state.velocities\n    };\n  };\n\n  return DistanceAngleRecognizer;\n}(Recognizer);\n\nvar PinchRecognizer = /*#__PURE__*/function (_DistanceAngleRecogni) {\n  _inheritsLoose(PinchRecognizer, _DistanceAngleRecogni);\n\n  function PinchRecognizer() {\n    var _this;\n\n    _this = _DistanceAngleRecogni.apply(this, arguments) || this;\n    _this.ingKey = 'pinching';\n    _this.stateKey = 'pinch';\n\n    _this.onPinchStart = function (event) {\n      addEventIds(_this.controller, event);\n      if (!_this.enabled || _this.state._active) return; // until we reach two fingers on the target don't react\n\n      if (_this.controller.touchIds.size < 2) return;\n\n      var _pointerIds = Array.from(_this.controller.touchIds).slice(0, 2);\n\n      var _getTwoTouchesEventVa = getTwoTouchesEventValues(event, _pointerIds, _this.transform),\n          values = _getTwoTouchesEventVa.values,\n          origin = _getTwoTouchesEventVa.origin;\n\n      _this.updateSharedState(getGenericEventData(event));\n\n      _this.updateGestureState(_extends({}, getStartGestureState(_assertThisInitialized(_this), values, event), getGenericPayload(_assertThisInitialized(_this), event, true), {\n        _pointerIds: _pointerIds,\n        cancel: _this.onCancel,\n        origin: origin\n      }));\n\n      _this.updateGestureState(_this.getMovement(values));\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onPinchChange = function (event) {\n      var _this$state = _this.state,\n          canceled = _this$state.canceled,\n          _active = _this$state._active;\n      if (canceled || !_active || // if the event has the same timestamp as the previous event\n      event.timeStamp === _this.state.timeStamp) return;\n      var genericEventData = getGenericEventData(event);\n\n      _this.updateSharedState(genericEventData);\n\n      var _getTwoTouchesEventVa2 = getTwoTouchesEventValues(event, _this.state._pointerIds, _this.transform),\n          values = _getTwoTouchesEventVa2.values,\n          origin = _getTwoTouchesEventVa2.origin;\n\n      var kinematics = _this.getKinematics(values, event);\n\n      _this.updateGestureState(_extends({}, getGenericPayload(_assertThisInitialized(_this), event), kinematics, {\n        origin: origin\n      }));\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onPinchEnd = function (event) {\n      removeEventIds(_this.controller, event);\n      var pointerIds = getPointerIds(event); // if none of the lifted pointerIds is in the state pointerIds don't do anything\n\n      if (_this.state._pointerIds.every(function (id) {\n        return !pointerIds.includes(id);\n      })) return;\n\n      _this.clean();\n\n      if (!_this.state._active) return;\n\n      _this.updateGestureState(_extends({}, getGenericPayload(_assertThisInitialized(_this), event), _this.getMovement(_this.state.values), {\n        _active: false\n      }));\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onCancel = function () {\n      if (_this.state.canceled) return;\n\n      _this.updateGestureState({\n        _active: false,\n        canceled: true\n      });\n\n      setTimeout(function () {\n        return _this.fireGestureHandler();\n      }, 0);\n    };\n    /**\r\n     * PINCH WITH WEBKIT GESTURES\r\n     */\n\n\n    _this.onGestureStart = function (event) {\n      if (!_this.enabled) return;\n      event.preventDefault(); // useless\n\n      var values = getWebkitGestureEventValues(event, _this.transform);\n\n      _this.updateSharedState(getGenericEventData(event));\n\n      _this.updateGestureState(_extends({}, getStartGestureState(_assertThisInitialized(_this), values, event), getGenericPayload(_assertThisInitialized(_this), event, true), {\n        origin: [event.clientX, event.clientY],\n        cancel: _this.onCancel\n      }));\n\n      _this.updateGestureState(_this.getMovement(values));\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onGestureChange = function (event) {\n      var _this$state2 = _this.state,\n          canceled = _this$state2.canceled,\n          _active = _this$state2._active;\n      if (canceled || !_active) return;\n      event.preventDefault();\n      var genericEventData = getGenericEventData(event);\n\n      _this.updateSharedState(genericEventData);\n\n      var values = getWebkitGestureEventValues(event, _this.transform);\n\n      var kinematics = _this.getKinematics(values, event);\n\n      _this.updateGestureState(_extends({}, getGenericPayload(_assertThisInitialized(_this), event), kinematics, {\n        origin: [event.clientX, event.clientY]\n      }));\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onGestureEnd = function (event) {\n      _this.clean();\n\n      if (!_this.state._active) return;\n\n      _this.updateGestureState(_extends({}, getGenericPayload(_assertThisInitialized(_this), event), _this.getMovement(_this.state.values), {\n        _active: false,\n        origin: [event.clientX, event.clientY]\n      }));\n\n      _this.fireGestureHandler();\n    };\n    /**\r\n     * PINCH WITH WHEEL\r\n     */\n\n\n    _this.wheelShouldRun = function (event) {\n      return _this.enabled && event.ctrlKey;\n    };\n\n    _this.getWheelValuesFromEvent = function (event) {\n      var _getWheelEventValues = getWheelEventValues(event, _this.transform),\n          delta_d = _getWheelEventValues[1];\n\n      var _this$state$values = _this.state.values,\n          prev_d = _this$state$values[0],\n          prev_a = _this$state$values[1];\n      var d = prev_d - delta_d;\n      var a = prev_a !== void 0 ? prev_a : 0;\n      return {\n        values: [d, a],\n        origin: [event.clientX, event.clientY],\n        delta: [0, delta_d]\n      };\n    };\n\n    _this.onWheel = function (event) {\n      if (!_this.wheelShouldRun(event)) return;\n\n      _this.setTimeout(_this.onWheelEnd);\n\n      if (!_this.state._active) _this.onWheelStart(event);else _this.onWheelChange(event);\n    };\n\n    _this.onWheelStart = function (event) {\n      var _this$getWheelValuesF = _this.getWheelValuesFromEvent(event),\n          values = _this$getWheelValuesF.values,\n          delta = _this$getWheelValuesF.delta,\n          origin = _this$getWheelValuesF.origin;\n\n      if (event.cancelable) event.preventDefault();else if (process.env.NODE_ENV === 'development') {\n        console.warn('To properly support zoom on trackpads, try using the `domTarget` option and `config.eventOptions.passive` set to `false`. This message will only appear in development mode.');\n      }\n\n      _this.updateSharedState(getGenericEventData(event));\n\n      _this.updateGestureState(_extends({}, getStartGestureState(_assertThisInitialized(_this), values, event), getGenericPayload(_assertThisInitialized(_this), event, true), {\n        initial: _this.state.values,\n        offset: values,\n        delta: delta,\n        origin: origin\n      }));\n\n      _this.updateGestureState(_this.getMovement(values));\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onWheelChange = function (event) {\n      if (event.cancelable) event.preventDefault();\n\n      _this.updateSharedState(getGenericEventData(event));\n\n      var _this$getWheelValuesF2 = _this.getWheelValuesFromEvent(event),\n          values = _this$getWheelValuesF2.values,\n          origin = _this$getWheelValuesF2.origin,\n          delta = _this$getWheelValuesF2.delta;\n\n      _this.updateGestureState(_extends({}, getGenericPayload(_assertThisInitialized(_this), event), _this.getKinematics(values, event), {\n        origin: origin,\n        delta: delta\n      }));\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onWheelEnd = function () {\n      _this.clean();\n\n      if (!_this.state._active) return;\n      _this.state._active = false;\n\n      _this.updateGestureState(_this.getMovement(_this.state.values));\n\n      _this.fireGestureHandler();\n    };\n\n    return _this;\n  }\n\n  var _proto = PinchRecognizer.prototype;\n\n  _proto.addBindings = function addBindings$1(bindings) {\n    // Only try to use gesture events when they are supported and domTarget is set\n    // as React doesn't support gesture handlers.\n    if (this.controller.config.domTarget && !this.controller.supportsTouchEvents && this.controller.supportsGestureEvents) {\n      addBindings(bindings, 'onGestureStart', this.onGestureStart);\n      addBindings(bindings, 'onGestureChange', this.onGestureChange);\n      addBindings(bindings, 'onGestureEnd', this.onGestureEnd);\n    } else {\n      addBindings(bindings, 'onTouchStart', this.onPinchStart);\n      addBindings(bindings, 'onTouchMove', this.onPinchChange);\n      addBindings(bindings, 'onTouchEnd', this.onPinchEnd);\n      addBindings(bindings, 'onTouchCancel', this.onPinchEnd);\n      addBindings(bindings, 'onWheel', this.onWheel);\n    }\n  };\n\n  return PinchRecognizer;\n}(DistanceAngleRecognizer);\n/**\r\n * Pinch hook.\r\n *\r\n * @param handler - the function fired every time the pinch gesture updates\r\n * @param [config={}] - the config object including generic options and pinch options\r\n */\n\n\nfunction usePinch(handler, config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  RecognizersMap.set('pinch', PinchRecognizer);\n  var buildPinchConfig = useRef();\n\n  if (!buildPinchConfig.current) {\n    buildPinchConfig.current = memoizeOne(_buildPinchConfig, isEqual);\n  }\n\n  return useRecognizers({\n    pinch: handler\n  }, buildPinchConfig.current(config));\n}\n\nvar WheelRecognizer = /*#__PURE__*/function (_CoordinatesRecognize) {\n  _inheritsLoose(WheelRecognizer, _CoordinatesRecognize);\n\n  function WheelRecognizer() {\n    var _this;\n\n    _this = _CoordinatesRecognize.apply(this, arguments) || this;\n    _this.ingKey = 'wheeling';\n    _this.stateKey = 'wheel';\n    _this.debounced = true;\n\n    _this.handleEvent = function (event) {\n      if (event.ctrlKey && 'pinch' in _this.controller.handlers) return;\n      if (!_this.enabled) return;\n\n      _this.setTimeout(_this.onEnd);\n\n      _this.updateSharedState(getGenericEventData(event));\n\n      var values = addV(getWheelEventValues(event, _this.transform), _this.state.values);\n\n      if (!_this.state._active) {\n        _this.updateGestureState(_extends({}, getStartGestureState(_assertThisInitialized(_this), values, event), getGenericPayload(_assertThisInitialized(_this), event, true), {\n          initial: _this.state.values\n        }));\n\n        var movement = _this.getMovement(values);\n\n        var geometry = calculateAllGeometry(movement.delta);\n\n        _this.updateGestureState(movement);\n\n        _this.updateGestureState(geometry);\n      } else {\n        _this.updateGestureState(_extends({}, getGenericPayload(_assertThisInitialized(_this), event), _this.getKinematics(values, event)));\n      }\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onEnd = function () {\n      _this.clean();\n\n      if (!_this.state._active) return;\n\n      var movement = _this.getMovement(_this.state.values);\n\n      _this.updateGestureState(movement);\n\n      _this.updateGestureState({\n        _active: false,\n        velocities: [0, 0],\n        velocity: 0\n      });\n\n      _this.fireGestureHandler();\n    };\n\n    return _this;\n  }\n\n  var _proto = WheelRecognizer.prototype;\n\n  _proto.addBindings = function addBindings$1(bindings) {\n    addBindings(bindings, 'onWheel', this.handleEvent);\n  };\n\n  return WheelRecognizer;\n}(CoordinatesRecognizer);\n/**\r\n * Wheel hook.\r\n *\r\n * @param handler - the function fired every time the wheel gesture updates\r\n * @param the config object including generic options and wheel options\r\n */\n\n\nfunction useWheel(handler, config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  RecognizersMap.set('wheel', WheelRecognizer);\n  var buildWheelConfig = useRef();\n\n  if (!buildWheelConfig.current) {\n    buildWheelConfig.current = memoizeOne(_buildWheelConfig, isEqual);\n  }\n\n  return useRecognizers({\n    wheel: handler\n  }, buildWheelConfig.current(config));\n}\n\nvar MoveRecognizer = /*#__PURE__*/function (_CoordinatesRecognize) {\n  _inheritsLoose(MoveRecognizer, _CoordinatesRecognize);\n\n  function MoveRecognizer() {\n    var _this;\n\n    _this = _CoordinatesRecognize.apply(this, arguments) || this;\n    _this.ingKey = 'moving';\n    _this.stateKey = 'move';\n    _this.debounced = true;\n\n    _this.onMove = function (event) {\n      if (!_this.enabled) return;\n\n      _this.setTimeout(_this.onMoveEnd);\n\n      if (!_this.state._active) _this.onMoveStart(event);else _this.onMoveChange(event);\n    };\n\n    _this.onMoveStart = function (event) {\n      _this.updateSharedState(getGenericEventData(event));\n\n      var values = getPointerEventValues(event, _this.transform);\n\n      _this.updateGestureState(_extends({}, getStartGestureState(_assertThisInitialized(_this), values, event), getGenericPayload(_assertThisInitialized(_this), event, true)));\n\n      _this.updateGestureState(_this.getMovement(values));\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onMoveChange = function (event) {\n      _this.updateSharedState(getGenericEventData(event));\n\n      var values = getPointerEventValues(event, _this.transform);\n\n      _this.updateGestureState(_extends({}, getGenericPayload(_assertThisInitialized(_this), event), _this.getKinematics(values, event)));\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onMoveEnd = function () {\n      _this.clean();\n\n      if (!_this.state._active) return;\n      var values = _this.state.values;\n\n      _this.updateGestureState(_this.getMovement(values));\n\n      _this.updateGestureState({\n        velocities: [0, 0],\n        velocity: 0,\n        _active: false\n      });\n\n      _this.fireGestureHandler();\n    };\n\n    _this.hoverTransform = function () {\n      return _this.controller.config.hover.transform || _this.controller.config.transform;\n    };\n\n    _this.onPointerEnter = function (event) {\n      _this.controller.state.shared.hovering = true;\n      if (!_this.controller.config.enabled) return;\n\n      if (_this.controller.config.hover.enabled) {\n        var values = getPointerEventValues(event, _this.hoverTransform());\n\n        var state = _extends({}, _this.controller.state.shared, _this.state, getGenericPayload(_assertThisInitialized(_this), event, true), {\n          args: _this.args,\n          values: values,\n          active: true,\n          hovering: true\n        });\n\n        _this.controller.handlers.hover(_extends({}, state, _this.mapStateValues(state)));\n      }\n\n      if ('move' in _this.controller.handlers) _this.onMoveStart(event);\n    };\n\n    _this.onPointerLeave = function (event) {\n      _this.controller.state.shared.hovering = false;\n      if ('move' in _this.controller.handlers) _this.onMoveEnd();\n      if (!_this.controller.config.hover.enabled) return;\n      var values = getPointerEventValues(event, _this.hoverTransform());\n\n      var state = _extends({}, _this.controller.state.shared, _this.state, getGenericPayload(_assertThisInitialized(_this), event), {\n        args: _this.args,\n        values: values,\n        active: false\n      });\n\n      _this.controller.handlers.hover(_extends({}, state, _this.mapStateValues(state)));\n    };\n\n    return _this;\n  }\n\n  var _proto = MoveRecognizer.prototype;\n\n  _proto.addBindings = function addBindings$1(bindings) {\n    if ('move' in this.controller.handlers) {\n      addBindings(bindings, 'onPointerMove', this.onMove);\n    }\n\n    if ('hover' in this.controller.handlers) {\n      addBindings(bindings, 'onPointerEnter', this.onPointerEnter);\n      addBindings(bindings, 'onPointerLeave', this.onPointerLeave);\n    }\n  };\n\n  return MoveRecognizer;\n}(CoordinatesRecognizer);\n/**\r\n * Move hook.\r\n *\r\n * @param handler - the function fired every time the move gesture updates\r\n * @param [config={}] - the config object including generic options and move options\r\n */\n\n\nfunction useMove(handler, config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  RecognizersMap.set('move', MoveRecognizer);\n  var buildMoveConfig = useRef();\n\n  if (!buildMoveConfig.current) {\n    buildMoveConfig.current = memoizeOne(_buildMoveConfig, isEqual);\n  }\n\n  return useRecognizers({\n    move: handler\n  }, buildMoveConfig.current(config));\n}\n/**\r\n * Hover hook.\r\n *\r\n * @param handler - the function fired every time the hover gesture updates\r\n * @param [config={}] - the config object including generic options and hover options\r\n */\n\n\nfunction useHover(handler, config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  RecognizersMap.set('hover', MoveRecognizer);\n  var buildHoverConfig = useRef();\n\n  if (!buildHoverConfig.current) {\n    buildHoverConfig.current = memoizeOne(_buildHoverConfig, isEqual);\n  }\n\n  return useRecognizers({\n    hover: handler\n  }, buildHoverConfig.current(config));\n}\n\nvar ScrollRecognizer = /*#__PURE__*/function (_CoordinatesRecognize) {\n  _inheritsLoose(ScrollRecognizer, _CoordinatesRecognize);\n\n  function ScrollRecognizer() {\n    var _this;\n\n    _this = _CoordinatesRecognize.apply(this, arguments) || this;\n    _this.ingKey = 'scrolling';\n    _this.stateKey = 'scroll';\n    _this.debounced = true;\n\n    _this.handleEvent = function (event) {\n      if (!_this.enabled) return;\n\n      _this.clearTimeout();\n\n      _this.setTimeout(_this.onEnd);\n\n      var values = getScrollEventValues(event, _this.transform);\n\n      _this.updateSharedState(getGenericEventData(event));\n\n      if (!_this.state._active) {\n        _this.updateGestureState(_extends({}, getStartGestureState(_assertThisInitialized(_this), values, event), getGenericPayload(_assertThisInitialized(_this), event, true), {\n          initial: _this.state.values\n        }));\n\n        var movementDetection = _this.getMovement(values);\n\n        var geometry = calculateAllGeometry(movementDetection.delta);\n\n        _this.updateGestureState(movementDetection);\n\n        _this.updateGestureState(geometry);\n      } else {\n        _this.updateGestureState(_extends({}, getGenericPayload(_assertThisInitialized(_this), event), _this.getKinematics(values, event)));\n      }\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onEnd = function () {\n      _this.clean();\n\n      if (!_this.state._active) return;\n\n      _this.updateGestureState(_extends({}, _this.getMovement(_this.state.values), {\n        _active: false,\n        velocities: [0, 0],\n        velocity: 0\n      }));\n\n      _this.fireGestureHandler();\n    };\n\n    return _this;\n  }\n\n  var _proto = ScrollRecognizer.prototype;\n\n  _proto.addBindings = function addBindings$1(bindings) {\n    addBindings(bindings, 'onScroll', this.handleEvent);\n  };\n\n  return ScrollRecognizer;\n}(CoordinatesRecognizer);\n/**\r\n * Scroll hook.\r\n *\r\n * @param handler - the function fired every time the scroll gesture updates\r\n * @param [config={}] - the config object including generic options and scroll options\r\n */\n\n\nfunction useScroll(handler, config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  RecognizersMap.set('scroll', ScrollRecognizer);\n  var buildScrollConfig = useRef();\n\n  if (!buildScrollConfig.current) {\n    buildScrollConfig.current = memoizeOne(_buildScrollConfig, isEqual);\n  }\n\n  return useRecognizers({\n    scroll: handler\n  }, buildScrollConfig.current(config));\n}\n\nvar RE_NOT_NATIVE = /^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;\n\nfunction sortHandlers(handlers) {\n  var _native = {};\n  var handle = {};\n  var actions = new Set();\n\n  for (var key in handlers) {\n    if (RE_NOT_NATIVE.test(key)) {\n      actions.add(RegExp.lastMatch);\n      handle[key] = handlers[key];\n    } else {\n      _native[key] = handlers[key];\n    }\n  }\n\n  return [handle, _native, actions];\n}\n/**\r\n * @public\r\n *\r\n * The most complete gesture hook, allowing support for multiple gestures.\r\n *\r\n * @param {Handlers} handlers - an object with on[Gesture] keys containg gesture handlers\r\n * @param {UseGestureConfig} [config={}] - the full config object\r\n * @returns {(...args: any[]) => HookReturnType<Config>}\r\n */\n\n\nfunction useGesture(_handlers, config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  var _sortHandlers = sortHandlers(_handlers),\n      handlers = _sortHandlers[0],\n      nativeHandlers = _sortHandlers[1],\n      actions = _sortHandlers[2];\n\n  RecognizersMap.set('drag', DragRecognizer);\n  RecognizersMap.set('hover', MoveRecognizer);\n  RecognizersMap.set('move', MoveRecognizer);\n  RecognizersMap.set('pinch', PinchRecognizer);\n  RecognizersMap.set('scroll', ScrollRecognizer);\n  RecognizersMap.set('wheel', WheelRecognizer);\n  var mergedConfig = buildComplexConfig(config, actions);\n  var internalHandlers = {};\n  if (actions.has('onDrag')) internalHandlers.drag = includeStartEndHandlers(handlers, 'onDrag');\n  if (actions.has('onWheel')) internalHandlers.wheel = includeStartEndHandlers(handlers, 'onWheel');\n  if (actions.has('onScroll')) internalHandlers.scroll = includeStartEndHandlers(handlers, 'onScroll');\n  if (actions.has('onMove')) internalHandlers.move = includeStartEndHandlers(handlers, 'onMove');\n  if (actions.has('onPinch')) internalHandlers.pinch = includeStartEndHandlers(handlers, 'onPinch');\n  if (actions.has('onHover')) internalHandlers.hover = handlers.onHover;\n  return useRecognizers(internalHandlers, mergedConfig, nativeHandlers);\n}\n\nfunction includeStartEndHandlers(handlers, handlerKey) {\n  var startKey = handlerKey + 'Start';\n  var endKey = handlerKey + 'End';\n\n  var fn = function fn(state) {\n    var memo = undefined;\n    if (state.first && startKey in handlers) handlers[startKey](state);\n    if (handlerKey in handlers) memo = handlers[handlerKey](state);\n    if (state.last && endKey in handlers) handlers[endKey](state);\n    return memo;\n  };\n\n  return fn;\n}\n\nexport { addV, rubberbandIfOutOfBounds, subV, useDrag, useGesture, useHover, useMove, usePinch, useScroll, useWheel };","import React, { useContext } from \"react\"\nimport tw from \"twin.macro\"\n\nconst ZoomPanContext = React.createContext({})\n\nexport function useGraphZoomPan() {\n  return useContext(ZoomPanContext)\n}\n\nexport default ZoomPanContext\n","import React, { useState, useRef } from \"react\"\nimport { animated, interpolate } from \"react-spring\"\nimport { useGraphZoomPan } from \"./zoom-pan-context\"\n\nconst StackedPlot = ({ parsedData, stackColors }) => {\n  const { offsetX, period } = useGraphZoomPan()\n\n  const [slice, setSlice] = useState()\n  const lastVal = useRef(0)\n  const lastPeriod = useRef(0)\n\n  const { stackedData, exactData, width } = parsedData\n\n  const barWidth = (0.8 * width) / exactData.length\n\n  return (\n    <>\n      <animated.g\n        data={interpolate([offsetX, period], offsetX => {\n          const diff = Math.abs(lastVal.current - offsetX)\n          const page = Math.max(parseInt(period.animation.to * 0.5, 10), 1)\n          if (diff > page || lastPeriod.current !== period.animation.to) {\n            lastVal.current = parseInt(offsetX, 10)\n            lastPeriod.current = period.animation.to\n\n            setSlice({\n              start: Math.max(lastVal.current - page, 0),\n              end: Math.max(lastVal.current + period.animation.to + page, 0),\n            })\n          }\n        })}\n      />\n      {stackedData.map((stack, stackI) => (\n        <g key={stackI} stroke={stackColors[stackI]} stroke-width={barWidth}>\n          {slice !== undefined &&\n            stack.slice(slice.start, slice.end).map(d => {\n              const [from, to] = d\n              const { data } = d\n\n              if (from === to) {\n                return null\n              }\n\n              return (\n                <line key={data.x} x1={data.x} y1={from} x2={data.x} y2={to} />\n              )\n            })}\n        </g>\n      ))}\n    </>\n  )\n}\n\nexport default React.memo(StackedPlot)\n","import React from \"react\"\n\nconst LinePlot = ({ linePlotData, linePlotColors }) => {\n  return linePlotData.map(({ svgLine }, i) => (\n    <path\n      key={i}\n      d={svgLine}\n      fill=\"none\"\n      stroke={linePlotColors[i]}\n      strokeWidth=\"2\"\n      vectorEffect=\"non-scaling-stroke\"\n    />\n  ))\n}\n\nexport default React.memo(LinePlot)\n","import React, { useState, useRef } from \"react\"\nimport { animated, interpolate } from \"react-spring\"\nimport { useGraphZoomPan } from \"./zoom-pan-context\"\n\nconst BarPlot = ({ parsedData, barPlotKeys, barPlotColors }) => {\n  const { offsetX, period } = useGraphZoomPan()\n\n  const [slice, setSlice] = useState()\n  const lastVal = useRef(0)\n  const lastPeriod = useRef(0)\n\n  const { exactData, width } = parsedData\n\n  const containerBarWidth = (0.8 * width) / exactData.length\n  const barWidth = containerBarWidth / barPlotKeys.length\n\n  return (\n    <>\n      <animated.g\n        data={interpolate([offsetX, period], offsetX => {\n          const diff = Math.abs(lastVal.current - offsetX)\n          const page = parseInt(period.animation.to * 0.5, 10)\n          if (diff > page || lastPeriod.current !== period.animation.to) {\n            lastVal.current = parseInt(offsetX, 10)\n            lastPeriod.current = period.animation.to\n\n            setSlice({\n              start: Math.max(lastVal.current - page, 0),\n              end: Math.max(lastVal.current + period.animation.to + page, 0),\n            })\n          }\n        })}\n      />\n      {barPlotKeys.map((barKey, barI) => {\n        return (\n          <g key={barKey} stroke={barPlotColors[barI]} stroke-width={barWidth}>\n            {slice !== undefined &&\n              exactData.slice(slice.start, slice.end).map(d => {\n                return <line key={d.x} x1={d.x} x2={d.x} y2={d[barKey]} />\n              })}\n          </g>\n        )\n      })}\n    </>\n  )\n}\n\nexport default React.memo(BarPlot)\n","import React from \"react\"\n\nconst StackedAreas = ({ stackAreas, stackColors }) => {\n  return stackAreas.map((area, i) => <path d={area} fill={stackColors[i]} />)\n}\n\nexport default React.memo(StackedAreas)\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport tw from \"twin.macro\"\nimport { animated } from \"react-spring\"\n\nimport StackedPlot from \"./stacked-plot\"\nimport LinePlot from \"./line-plot\"\nimport BarPlot from \"./bar-plot\"\nimport StackedAreas from \"./stacked-areas\"\n\nimport { useGraphZoomPan } from \"./zoom-pan-context\"\n\nconst LineGraphContent = ({\n  parsedData,\n  linePlotColors,\n  stackColors,\n  barPlotKeys,\n  barPlotColors,\n  areaStack,\n}) => {\n  const { viewBox, viewportWidth, viewportHeight } = useGraphZoomPan()\n\n  return (\n    <div tw=\"absolute inset-0 overflow-hidden\">\n      <svg\n        width=\"100%\"\n        viewBox={`0 0 ${viewportWidth} ${viewportHeight}`}\n        style={{ transform: \"scaleY(-1)\" }}\n        tw=\"pointer-events-none\"\n      >\n        <animated.svg\n          width={\"100%\"}\n          preserveAspectRatio=\"none\"\n          viewBox={viewBox}\n          tw=\"absolute inset-0 pointer-events-none\"\n        >\n          {parsedData.linePlotData.length ? (\n            <LinePlot\n              linePlotData={parsedData.linePlotData}\n              linePlotColors={linePlotColors}\n            />\n          ) : null}\n          {barPlotKeys.length ? (\n            <BarPlot\n              parsedData={parsedData}\n              barPlotKeys={barPlotKeys}\n              barPlotColors={barPlotColors}\n            />\n          ) : null}\n          {areaStack ? (\n            <StackedAreas\n              stackAreas={parsedData.stackAreas}\n              stackColors={stackColors}\n            />\n          ) : stackColors.length ? (\n            <StackedPlot parsedData={parsedData} stackColors={stackColors} />\n          ) : null}\n        </animated.svg>\n      </svg>\n    </div>\n  )\n}\n\nLineGraphContent.propTypes = {\n  parsedData: PropTypes.shape().isRequired,\n}\n\nexport default React.memo(LineGraphContent)\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport tw from \"twin.macro\"\nimport { animated, interpolate } from \"react-spring\"\nimport { useGraphZoomPan } from \"./zoom-pan-context\"\n\nfunction LineGraphXAxis({ renderValue, itemsCount }) {\n  const { offsetX, period } = useGraphZoomPan()\n\n  const renderContent = () => {\n    if (!itemsCount) {\n      return <span>&nbsp;</span>\n    }\n\n    return [...Array(itemsCount)].map((_, i) => {\n      const interpolatedValue = interpolate(\n        [offsetX, period],\n        (offsetX, period) => {\n          const value = offsetX + (i * period) / (itemsCount - 1)\n\n          return renderValue(value)\n        }\n      )\n\n      return <animated.span key={i}>{interpolatedValue}</animated.span>\n    })\n  }\n\n  return (\n    <div tw=\"flex flex-row justify-between px-1 pt-2 sm:pt-4\">\n      {renderContent()}\n    </div>\n  )\n}\n\nLineGraphXAxis.propTypes = {\n  renderValue: PropTypes.func,\n  itemsCount: PropTypes.number,\n}\n\nLineGraphXAxis.defaultProps = {\n  itemsCount: 0,\n  renderValue: () => {},\n}\n\nexport default React.memo(LineGraphXAxis)\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport tw from \"twin.macro\"\nimport { animated, interpolate } from \"react-spring\"\n\nimport { useGraphZoomPan } from \"./zoom-pan-context\"\n\nfunction LineGraphYAxis({ renderValue, itemsCount }) {\n  const { lowestInView, highestInView, boxHeight } = useGraphZoomPan()\n\n  const renderContent = () => {\n    return [...Array(itemsCount)].map((_, i) => {\n      const interpolatedValue = interpolate(\n        [lowestInView, highestInView],\n        (lowestInView, highestInView) => {\n          const value =\n            lowestInView +\n            ((itemsCount - i - 1) * (highestInView - lowestInView)) /\n              (itemsCount - 1)\n\n          return value ? renderValue(value) : \"\\xa0\"\n        }\n      )\n\n      return <animated.span key={i}>{interpolatedValue}</animated.span>\n    })\n  }\n\n  return (\n    <div\n      tw=\"relative mr-1 h-full flex flex-col justify-between\"\n      style={{ height: boxHeight }}\n    >\n      {renderContent()}\n    </div>\n  )\n}\n\nLineGraphYAxis.propTypes = {\n  renderValue: PropTypes.func.isRequired,\n  itemsCount: PropTypes.number,\n}\n\nLineGraphYAxis.defaultProps = {\n  itemsCount: 0,\n}\n\nexport default React.memo(LineGraphYAxis)\n","import React from \"react\"\nimport tw from \"twin.macro\"\nimport { animated } from \"react-spring\"\n\nfunction LineGraphValues({ renderKeyValue, keys, colors, names, hoverValues }) {\n  if (!keys || !keys.length) {\n    return null\n  }\n\n  const renderContent = () => {\n    const [{ xValue }] = hoverValues\n\n    return keys.map((key, i) => (\n      <div key={key} tw=\"flex-row whitespace-no-wrap\">\n        <div\n          tw=\"h-2 w-2 rounded inline-block mr-1\"\n          style={{ backgroundColor: colors[i] }}\n        />\n        {names[key]}{\" \"}\n        <animated.span tw=\"font-bold\" style={{ color: colors[i] }}>\n          {xValue.interpolate(renderKeyValue(key))}\n        </animated.span>\n      </div>\n    ))\n  }\n\n  return renderContent()\n}\n\nLineGraphValues.propTypes = {}\n\nLineGraphValues.defaultProps = {}\n\nexport default LineGraphValues\n","import React, { useRef, useCallback } from \"react\"\nimport { useSpring, animated, interpolate } from \"react-spring\"\nimport { useGesture } from \"react-use-gesture\"\nimport tw, { styled } from \"twin.macro\"\n\nimport { useGraphZoomPan } from \"./zoom-pan-context\"\nimport LineGraphValues from \"./line-graph-values\"\nimport { useDimensions, usePosition } from \"../../hooks/layout\"\n\nconst Overlay = styled.div`\n  ${tw`absolute inset-0`}\n  ${({ theme }) =>\n    (theme === \"graph1\" &&\n      tw`bg-white dark:bg-dark-bg sm:bg-light-grey sm:dark:bg-dark-light-bg`) ||\n    (theme === \"graph2\" &&\n      tw`bg-light-grey dark:bg-dark-light-bg sm:bg-white sm:dark:bg-dark-bg`) ||\n    tw`bg-white dark:bg-dark-bg`}\n`\n\nconst Tooltip = styled.div`\n  ${tw`text-black dark:text-white whitespace-no-wrap rounded-14 px-3 text-sm leading-lg`}\n  ${({ theme }) =>\n    (theme === \"graph1\" &&\n      tw`bg-light-grey dark:bg-dark-graph2-dropdown sm:bg-white sm:dark:bg-dark-graph1-dropdown`) ||\n    (theme === \"graph2\" &&\n      tw`bg-white dark:bg-dark-graph1-dropdown sm:bg-light-grey sm:dark:bg-dark-graph2-dropdown`) ||\n    tw`bg-light-grey dark:bg-dark-light-bg`}\n`\n\nconst TooltipKeys = styled.div`\n  ${tw`text-black dark:text-white whitespace-no-wrap rounded-14 py-2 px-4 text-xxs`}\n  ${({ theme }) =>\n    (theme === \"graph1\" &&\n      tw`bg-light-grey dark:bg-dark-graph2-dropdown sm:bg-white sm:dark:bg-dark-graph1-dropdown`) ||\n    (theme === \"graph2\" &&\n      tw`bg-white dark:bg-dark-graph1-dropdown sm:bg-light-grey sm:dark:bg-dark-graph2-dropdown`) ||\n    tw`bg-light-grey dark:bg-dark-light-bg`}\n`\n\nfunction LineGraphMouse({\n  renderXValue,\n  renderYValue,\n  parsedData,\n  exact,\n  stackedKeys,\n  stackColors,\n  keyNames,\n  renderKeyValue,\n  theme = \"graph1\",\n}) {\n  const hoverValues = useSpring(() => ({\n    dataX: 0,\n    dataY: 0,\n    xValue: 0,\n    opacity: 0,\n    tooltipOffset: 0,\n  }))\n\n  const {\n    dragCallback,\n    offsetX,\n    period,\n    startPeriod,\n    highestInView,\n  } = useGraphZoomPan()\n\n  const boxRef = useRef()\n  const boxRef2 = useRef()\n  const tooltipRef = useRef()\n  const tooltipKeyRef = useRef()\n\n  const { width: boxWidth, height: boxHeight } = useDimensions(boxRef)\n  const { width: tooltipWidth } = useDimensions(tooltipRef)\n  const { width: tooltipKeyWidth } = useDimensions(tooltipKeyRef)\n  const { left: boxLeft } = usePosition(boxRef)\n\n  const [{ dataX, dataY, xValue, opacity, tooltipOffset }, set] = hoverValues\n\n  const getHoverItemX = useCallback(\n    (dragX, period) => {\n      if (!boxWidth) {\n        return 0\n      }\n\n      const pixelToBar = boxWidth / period\n      return dragX / pixelToBar\n    },\n    [boxWidth]\n  )\n\n  const hoverCallback = useCallback(\n    ({ hovering }) => {\n      set({ opacity: hovering ? 1 : 0 })\n    },\n    [set]\n  )\n\n  const moveCallback = useCallback(\n    ({ xy: [mx] }) => {\n      const clientX = Math.min(Math.max(mx - boxLeft, 0), boxWidth)\n      const hoverX = clientX / (startPeriod / period.animation.to)\n      const itemX = Math.round(\n        offsetX.get() + getHoverItemX(hoverX, startPeriod)\n      )\n\n      const dataPoint = exact\n        ? parsedData.nearestExactDataPointFromX(itemX)\n        : parsedData.nearestDataPointFromX(itemX)\n\n      let tooltipOffset = tooltipWidth / 2 + tooltipKeyWidth / 2 + 8\n      if (clientX / boxWidth > 0.5) {\n        tooltipOffset = -tooltipOffset\n      }\n\n      set({\n        xValue: dataPoint.x,\n        dataX: (dataPoint.x - offsetX.get()) * (boxWidth / period.animation.to),\n        dataY:\n          boxHeight - dataPoint.y * (boxHeight / highestInView.animation.to),\n        tooltipOffset,\n      })\n    },\n    [\n      boxHeight,\n      boxLeft,\n      boxWidth,\n      exact,\n      getHoverItemX,\n      highestInView.animation.to,\n      offsetX,\n      parsedData,\n      period.animation.to,\n      set,\n      startPeriod,\n      tooltipKeyWidth,\n      tooltipWidth,\n    ]\n  )\n\n  useGesture(\n    {\n      onDrag: dragCallback,\n      onHover: hoverCallback,\n      onMove: moveCallback,\n    },\n    {\n      domTarget: boxRef,\n      drag: {\n        useTouch: true,\n        experimental_preventWindowScrollY: true,\n      },\n    }\n  )\n\n  useGesture(\n    {\n      onHover: hoverCallback,\n      onMove: moveCallback,\n    },\n    {\n      domTarget: boxRef2,\n      drag: {\n        useTouch: true,\n        experimental_preventWindowScrollY: true,\n      },\n    }\n  )\n\n  return (\n    <>\n      <div\n        tw=\"absolute inset-0\"\n        ref={boxRef}\n        style={{ touchAction: \"none\", userSelect: \"none\" }}\n      />\n      <div\n        tw=\"absolute inset-x-0 bottom-0 block sm:hidden\"\n        ref={boxRef2}\n        style={{\n          height: \"10%\",\n          touchAction: \"none\",\n          userSelect: \"none\",\n        }}\n      />\n      <animated.div\n        tw=\"absolute inset-0 overflow-hidden pointer-events-none z-10\"\n        style={{ opacity: opacity.interpolate(o => o * 0.5) }}\n      >\n        <animated.div\n          tw=\"absolute inset-0\"\n          style={{\n            transform: interpolate(\n              [dataX, period],\n              (dataX, period) =>\n                `translate3d(${dataX}px, ${0}px, ${0}px) translate3d(${\n                  boxWidth / period / 2\n                }px, ${0}px, ${0}px)`\n            ),\n          }}\n        >\n          <Overlay theme={theme} />\n        </animated.div>\n\n        <animated.div\n          tw=\"absolute inset-0\"\n          style={{\n            transform: interpolate(\n              [dataX, period],\n              (dataX, period) =>\n                `translate3d(${dataX}px, ${0}px, ${0}px) translate3d(${-100}%, ${0}px, ${0}px) translate3d(${\n                  -boxWidth / period / 2\n                }px, ${0}px, ${0}px)`\n            ),\n          }}\n        >\n          <Overlay theme={theme} />\n        </animated.div>\n      </animated.div>\n      <animated.div\n        tw=\"absolute inset-0 pointer-events-none z-20\"\n        style={{ opacity }}\n      >\n        <animated.div\n          tw=\"absolute z-20\"\n          style={{\n            transform: interpolate([dataX, dataY], (dataX, dataY) => {\n              return `translate3d(${dataX}px, ${\n                dataY - 8\n              }px, ${0}px) translate3d(-50%, -100%, 0)`\n            }),\n          }}\n          ref={tooltipRef}\n        >\n          <Tooltip theme={theme}>\n            <animated.span>{xValue.interpolate(renderYValue)}</animated.span>\n          </Tooltip>\n          {stackedKeys && stackedKeys.length ? (\n            <animated.div\n              tw=\"absolute rounded top-0\"\n              style={{\n                left: \"50%\",\n                transform: interpolate(\n                  [tooltipOffset],\n                  tooltipOffset =>\n                    `translate3d(-50%, 0px, 0px) translate3d(${tooltipOffset}px, -1rem, 0px)`\n                ),\n              }}\n              ref={tooltipKeyRef}\n            >\n              <TooltipKeys theme={theme}>\n                <LineGraphValues\n                  keys={stackedKeys}\n                  colors={stackColors}\n                  names={keyNames}\n                  hoverValues={hoverValues}\n                  renderKeyValue={renderKeyValue}\n                />\n              </TooltipKeys>\n            </animated.div>\n          ) : null}\n        </animated.div>\n\n        <animated.div\n          tw=\"absolute bottom-0 pt-1 sm:pt-4 z-20\"\n          style={{\n            transform: interpolate([dataX], dataX => {\n              return `translate3d(${dataX}px, ${0}px, ${0}px) translate3d(-50%, 100%, 0px)`\n            }),\n          }}\n        >\n          <Tooltip theme={theme}>\n            <animated.span>{xValue.interpolate(renderXValue)}</animated.span>\n          </Tooltip>\n        </animated.div>\n      </animated.div>\n    </>\n  )\n}\n\nexport default React.memo(LineGraphMouse)\n","import React from \"react\"\nimport tw from \"twin.macro\"\n\nimport { useGraphZoomPan } from \"./zoom-pan-context\"\nimport Dropdown from \"../dropdown\"\n\nimport { GROUP_PERIODS } from \"../../common/graph\"\n\nconst LineGraphPeriods = ({ group, theme }) => {\n  const { setPeriod, startPeriod } = useGraphZoomPan()\n\n  return (\n    <Dropdown\n      options={GROUP_PERIODS[group]}\n      defaultValue={startPeriod}\n      onChange={({ value }) => {\n        setPeriod(parseInt(value, 10))\n      }}\n      theme={theme}\n    />\n  )\n}\n\nLineGraphPeriods.propTypes = {}\n\nexport default React.memo(LineGraphPeriods)\n","import React from \"react\"\nimport tw from \"twin.macro\"\n\nimport { THREE_HOURS, SIX_HOURS, DAY, WEEK, MONTH } from \"../../common/graph\"\nimport Dropdown from \"../dropdown\"\n\nconst LABELS = {\n  [THREE_HOURS]: \"3 Hours\",\n  [SIX_HOURS]: \"6 Hours\",\n  [DAY]: \"Day\",\n  [WEEK]: \"Week\",\n  [MONTH]: \"Month\",\n}\n\nfunction GroupingSelector({ options, group, onChange, theme }) {\n  const optionsMap = options.map(o => ({ label: LABELS[o], value: o }))\n  return (\n    <Dropdown\n      options={optionsMap}\n      defaultValue={group}\n      onChange={({ value }) => {\n        onChange(value)\n      }}\n      theme={theme}\n    />\n  )\n}\n\nexport default React.memo(GroupingSelector)\n","import React, { useMemo, useCallback } from \"react\"\nimport tw from \"twin.macro\"\nimport { useSpring, interpolate } from \"react-spring\"\nimport { useDimensions } from \"../../hooks/layout\"\n\nimport ZoomPanContext from \"./zoom-pan-context\"\n\nexport function ZoomPanContextProvider({\n  children,\n  parsedData,\n  boxRef,\n  startPeriod,\n  startY,\n  viewportWidth,\n  viewportHeight,\n}) {\n  const { width: boxWidth, height: boxHeight } = useDimensions(boxRef)\n\n  const getHighestInView = useCallback(\n    (offsetX, period) => {\n      const from = Math.min(\n        Math.max(offsetX, 0),\n        parsedData.mappedValues.length - 1\n      )\n\n      const to = Math.max(offsetX + period + 1.5, 1)\n\n      return Math.max(...parsedData.mappedValues.slice(from, to))\n    },\n    [parsedData.mappedValues]\n  )\n\n  const getLowestInView = useCallback(\n    (offsetX, period) => {\n      if (startY !== undefined) {\n        return startY\n      }\n\n      const from = Math.min(\n        Math.max(offsetX, 0),\n        parsedData.mappedValues.length - period\n      )\n\n      const to = from + period\n\n      return Math.min(...parsedData.mappedValues.slice(from, to))\n    },\n    [parsedData.mappedValues, startY]\n  )\n\n  const getOffsetX = useCallback(\n    (dragX, period) => {\n      if (!boxWidth) {\n        return 0\n      }\n\n      const offsetOffset = parsedData.mappedValues.length - period - 0.5\n      const pixelToBar = boxWidth / period\n      return offsetOffset - dragX / pixelToBar\n    },\n    [boxWidth, parsedData.mappedValues.length]\n  )\n\n  const startOffsetX = parsedData.mappedValues.length - startPeriod - 1\n  const [{ period, dragX, lowestInView, highestInView }, set] = useSpring(\n    () => ({\n      dragX: 0,\n      period: startPeriod,\n      lowestInView: getLowestInView(startOffsetX, startPeriod),\n      highestInView: getHighestInView(startOffsetX, startPeriod),\n    })\n  )\n\n  const dragCallback = useCallback(\n    ({ down, intentional, delta: [mx] }) => {\n      if (down && intentional) {\n        const newDragX =\n          dragX.animation.to + mx / (startPeriod / period.animation.to)\n\n        set({\n          dragX: newDragX,\n          lowestInView: getLowestInView(\n            getOffsetX(newDragX, startPeriod),\n            period.animation.to\n          ),\n          highestInView: getHighestInView(\n            getOffsetX(newDragX, startPeriod),\n            period.animation.to\n          ),\n        })\n      }\n    },\n    [\n      dragX.animation.to,\n      getHighestInView,\n      getLowestInView,\n      getOffsetX,\n      period.animation.to,\n      set,\n      startPeriod,\n    ]\n  )\n\n  const setPeriod = useCallback(\n    newPeriod => {\n      set({\n        period: newPeriod,\n        lowestInView: getLowestInView(\n          getOffsetX(dragX.animation.to, startPeriod),\n          newPeriod\n        ),\n        highestInView: getHighestInView(\n          getOffsetX(dragX.animation.to, startPeriod),\n          newPeriod\n        ),\n      })\n    },\n    [\n      dragX.animation.to,\n      getHighestInView,\n      getLowestInView,\n      getOffsetX,\n      set,\n      startPeriod,\n    ]\n  )\n\n  const contextValue = useMemo(() => {\n    const offsetX = interpolate([dragX], dragX => {\n      return getOffsetX(dragX, startPeriod)\n    })\n\n    const viewBox = interpolate(\n      [offsetX, period, lowestInView, highestInView],\n      (offsetX, period, lowestInView, highestInView) => {\n        return `${offsetX} ${lowestInView} ${period} ${\n          highestInView - lowestInView\n        }`\n      }\n    )\n\n    return {\n      getHighestInView,\n      getLowestInView,\n      dragX,\n      offsetX,\n      lowestInView,\n      highestInView,\n      setPeriod,\n      period,\n      dragCallback,\n      viewBox,\n      startPeriod,\n      boxWidth,\n      boxHeight,\n      viewportWidth,\n      viewportHeight,\n    }\n  }, [\n    dragX,\n    period,\n    lowestInView,\n    highestInView,\n    getHighestInView,\n    getLowestInView,\n    setPeriod,\n    dragCallback,\n    startPeriod,\n    boxWidth,\n    boxHeight,\n    viewportWidth,\n    viewportHeight,\n    getOffsetX,\n  ])\n\n  return (\n    <ZoomPanContext.Provider value={contextValue}>\n      {children}\n    </ZoomPanContext.Provider>\n  )\n}\n\nexport default React.memo(ZoomPanContextProvider)\n","import React, { useMemo, useRef } from \"react\"\nimport PropTypes from \"prop-types\"\nimport tw from \"twin.macro\"\n\nimport LineGraphContent from \"./line-graph-content\"\nimport LineGraphXAxis from \"./line-graph-x-axis\"\nimport LineGraphYAxis from \"./line-graph-y-axis\"\nimport LineGraphMouse from \"./line-graph-mouse\"\nimport LineGraphValues from \"./line-graph-values\"\nimport LineGraphPeriods from \"./line-graph-periods\"\nimport GroupingSelector from \"./grouping-selector\"\nimport ZoomPanContextProvider from \"./zoom-pan-context-provider\"\n\nimport { MediumText, MediumBoldText } from \"../../common/elements\"\nimport { parseDataForLineGraph } from \"../../common/graph\"\nimport { useDimensions } from \"../../hooks/layout\"\n\nimport {\n  GROUP_PERIODS,\n  THREE_HOURS,\n  SIX_HOURS,\n  DAY,\n  WEEK,\n  MONTH,\n} from \"../../common/graph\"\n\nfunction LineGraph({\n  data,\n  renderXAxis,\n  renderYAxis,\n  renderXValue,\n  renderYValue,\n  renderKeyValue,\n  xAxisItemsCount,\n  yAxisItemsCount,\n  rollingWindow,\n  centralRolling,\n  startY,\n  endY,\n  stackedKeys,\n  stackColors,\n  barPlotKeys,\n  barPlotColors,\n  linePlotKeys,\n  linePlotColors,\n  areaStack,\n  keyNames,\n  title,\n  loading,\n  group,\n  onChangeGroup,\n  theme,\n}) {\n  const boxRef = useRef()\n  const viewportBox = useRef()\n\n  const { width: viewportWidth, height: viewportHeight } = useDimensions(\n    viewportBox\n  )\n\n  const parsedData = useMemo(() => {\n    if (!data) {\n      return null\n    }\n\n    return parseDataForLineGraph({\n      rawData: data,\n      rollingWindow,\n      centralRolling,\n      startY,\n      endY,\n      stackedKeys,\n      linePlotKeys,\n    })\n  }, [\n    data,\n    rollingWindow,\n    centralRolling,\n    startY,\n    endY,\n    stackedKeys,\n    linePlotKeys,\n  ])\n\n  const renderGraph = () => {\n    if (loading || parsedData === null || !parsedData.exactData.length) {\n      return (\n        <div>\n          {title && <MediumBoldText tw=\"mb-6\">{title}</MediumBoldText>}\n\n          <div tw=\"flex flex-row items-center mb-10 relative z-20\">\n            <div>\n              <span tw=\"mr-4 hidden md:inline\">Date range</span>\n              <LineGraphPeriods group={group} theme={theme} />\n            </div>\n\n            {onChangeGroup && (\n              <div tw=\"ml-6 md:ml-10\">\n                <span tw=\"mr-4 hidden md:inline\">Interval</span>\n                <GroupingSelector\n                  options={[THREE_HOURS, SIX_HOURS, DAY, WEEK, MONTH]}\n                  onChange={onChangeGroup}\n                  group={group}\n                  theme={theme}\n                />\n              </div>\n            )}\n          </div>\n\n          <div tw=\"text-black dark:text-white font-normal text-xxxs sm:text-xxs md:text-sm lg:text-base\">\n            <div\n              tw=\"relative\"\n              width=\"100%\"\n              style={{\n                paddingTop: (100 * viewportHeight) / viewportWidth + \"%\",\n              }}\n            >\n              <div tw=\"absolute inset-0 flex justify-center items-center mb-5\">\n                <MediumText>\n                  {parsedData === null || loading\n                    ? \"Loading...\"\n                    : \"No data.. :(\"}\n                </MediumText>\n              </div>\n            </div>\n            <LineGraphXAxis />\n            <LineGraphValues />\n          </div>\n        </div>\n      )\n    }\n\n    const { value: startPeriod } = GROUP_PERIODS[group].find(c => c.isDefault)\n\n    return (\n      <ZoomPanContextProvider\n        parsedData={parsedData}\n        boxRef={boxRef}\n        startPeriod={startPeriod}\n        startY={startY}\n        viewportWidth={viewportWidth}\n        viewportHeight={viewportHeight}\n      >\n        {title && <MediumBoldText tw=\"mb-6\">{title}</MediumBoldText>}\n\n        <div tw=\"flex flex-row items-center mb-10 relative z-20\">\n          <div>\n            <span tw=\"mr-4 hidden md:inline\">Date range</span>\n            <LineGraphPeriods group={group} theme={theme} />\n          </div>\n\n          {onChangeGroup && (\n            <div tw=\"ml-6 md:ml-10\">\n              <span tw=\"mr-4 hidden md:inline\">Interval</span>\n              <GroupingSelector\n                options={[THREE_HOURS, SIX_HOURS, DAY, WEEK, MONTH]}\n                onChange={onChangeGroup}\n                group={group}\n                theme={theme}\n              />\n            </div>\n          )}\n        </div>\n        <div tw=\"text-black dark:text-white font-normal text-xxxs sm:text-xxs md:text-sm lg:text-base\">\n          <div\n            tw=\"relative\"\n            width=\"100%\"\n            style={{\n              paddingTop: (100 * viewportHeight) / viewportWidth + \"%\",\n            }}\n          >\n            <LineGraphMouse\n              parsedData={parsedData}\n              renderXValue={renderXValue}\n              renderYValue={renderYValue}\n              theme={theme}\n              renderKeyValue={renderKeyValue}\n              stackedKeys={stackedKeys}\n              stackColors={stackColors}\n              keyNames={keyNames}\n            />\n            <div tw=\"absolute top-0 bottom-0 right-0 text-right z-10 pointer-events-none\">\n              <LineGraphYAxis\n                parsedData={parsedData}\n                renderValue={renderYAxis}\n                itemsCount={yAxisItemsCount}\n              />\n            </div>\n            <div tw=\"absolute inset-0 pointer-events-none\" ref={boxRef}>\n              <LineGraphContent\n                parsedData={parsedData}\n                linePlotColors={linePlotColors}\n                stackColors={stackColors}\n                areaStack={areaStack}\n                barPlotKeys={barPlotKeys}\n                barPlotColors={barPlotColors}\n              />\n            </div>\n          </div>\n\n          <LineGraphXAxis\n            parsedData={parsedData}\n            renderValue={renderXAxis}\n            itemsCount={xAxisItemsCount}\n          />\n        </div>\n      </ZoomPanContextProvider>\n    )\n  }\n\n  return (\n    <>\n      <div tw=\"absolute w-5 h-4 sm:w-16 sm:h-6\" ref={viewportBox} />\n      {renderGraph()}\n    </>\n  )\n}\n\nLineGraph.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.shape()),\n  renderXAxis: PropTypes.func,\n  renderYAxis: PropTypes.func,\n  renderXValue: PropTypes.func,\n  renderYValue: PropTypes.func,\n  renderKeyValue: PropTypes.func,\n  xAxisItemsCount: PropTypes.number,\n  yAxisItemsCount: PropTypes.number,\n  rollingWindow: PropTypes.number,\n  centralRolling: PropTypes.bool,\n  startY: PropTypes.number,\n  endY: PropTypes.number,\n  keyNames: PropTypes.arrayOf(PropTypes.string),\n  stackedKeys: PropTypes.arrayOf(PropTypes.string),\n  stackColors: PropTypes.arrayOf(PropTypes.string),\n  linePlotKeys: PropTypes.arrayOf(PropTypes.string),\n  linePlotColors: PropTypes.arrayOf(PropTypes.string),\n  barPlotKeys: PropTypes.arrayOf(PropTypes.string),\n  barPlotColors: PropTypes.arrayOf(PropTypes.string),\n  areaStack: PropTypes.bool,\n  onChangeGroup: PropTypes.func,\n  theme: PropTypes.string,\n}\n\nLineGraph.defaultProps = {\n  data: null,\n  renderXAxis: v => v.toFixed(1),\n  renderYAxis: v => v.toFixed(1),\n  renderXValue: v => v.toFixed(1),\n  renderYValue: v => v.toFixed(1),\n  renderKeyValue: key => v => key + v.toFixed(1),\n  xAxisItemsCount: 4,\n  yAxisItemsCount: 4,\n  rollingWindow: 0,\n  centralRolling: false,\n  startY: undefined,\n  endY: undefined,\n  keyNames: [],\n  stackedKeys: [],\n  stackColors: [],\n  linePlotKeys: [],\n  linePlotColors: [],\n  barPlotKeys: [],\n  barPlotColors: [],\n  areaStack: false,\n  onChangeGroup: null,\n  theme: \"graph1\",\n}\n\nexport default LineGraph\n","import { useEffect, useState, useCallback } from \"react\"\nimport tw from \"twin.macro\"\nimport { useTranslation } from \"react-i18next\"\nimport { GROUP_NAMES } from \"../../common/graph\"\n\nexport const useGroupInfo = group => {\n  const groupName = GROUP_NAMES[group]\n  const [groupInfo, setGroupInfo] = useState({ startTimestamp: 0 })\n\n  useEffect(() => {\n    fetch(\n      `https://xmy-history.coinid.org/processeddata/groupInfo/${groupName}.json`\n    )\n      .then(r => r.json())\n      .then(setGroupInfo)\n  }, [groupName])\n\n  const getTimestamp = useCallback(\n    i => {\n      return groupInfo.startTimestamp + Math.round(i) * group\n    },\n    [group, groupInfo.startTimestamp]\n  )\n\n  return { ...groupInfo, getTimestamp }\n}\n\nexport const useRenderValues = ({\n  data,\n  group,\n  yAxisOptions = { shorten: { precision: 1 } },\n  yValueOptions = {},\n  keyValueOptions = {},\n  scale = 1,\n  valueMultiplier = 1,\n}) => {\n  const { getTimestamp } = useGroupInfo(group)\n\n  const { t } = useTranslation()\n\n  const getDatapoint = useCallback(x => data[Math.round(x)] || {}, [data])\n\n  const renderXAxis = useCallback(\n    x => t(\"dayMonth\", { date: new Date(getTimestamp(x) * 1000) }),\n    [getTimestamp, t]\n  )\n\n  const renderXValue = useCallback(\n    x =>\n      t(\"dayMonthYear\", {\n        date: new Date((getTimestamp(x) + group / 2) * 1000),\n      }),\n    [getTimestamp, group, t]\n  )\n\n  const getRealValue = useCallback(\n    value => {\n      return value * scale * valueMultiplier\n    },\n    [scale, valueMultiplier]\n  )\n\n  const shorten = useCallback((v, c) => {\n    const denomitors = [\"Z\", \"E\", \"P\", \"T\", \"G\", \"M\", \"K\"]\n    const step = 3\n    const start = denomitors.length * 3\n\n    for (var i = 0; i < denomitors.length; i += 1) {\n      const exp = start - i * step\n      if (v > Math.pow(10, exp - 1)) {\n        return (\n          (v / Math.pow(10, exp)).toFixed(c.precision) +\n          (c.space ? \" \" : \"\") +\n          denomitors[i]\n        )\n      }\n    }\n\n    return v.toFixed(c.precision) + (c.space ? \" \" : \"\")\n  }, [])\n\n  const formatValue = useCallback(\n    (value, options) => {\n      const getValue = () => {\n        if (options.shorten) {\n          return shorten(getRealValue(value), options.shorten)\n        }\n\n        return t(\"formattedNumber\", { number: getRealValue(value) })\n      }\n\n      if (options.suffix) {\n        return getValue() + options.suffix\n      }\n\n      return getValue()\n    },\n    [getRealValue, shorten, t]\n  )\n\n  const renderYAxis = useCallback(y => formatValue(y, yAxisOptions), [\n    formatValue,\n    yAxisOptions,\n  ])\n\n  const renderYValue = useCallback(\n    x => {\n      const d = getDatapoint(x)\n      const y = d.y || 0\n      return formatValue(y, yValueOptions)\n    },\n    [formatValue, getDatapoint, yValueOptions]\n  )\n\n  const renderKeyValue = useCallback(\n    key => x => {\n      const d = getDatapoint(x)\n      const v = d[key] || 0\n      return formatValue(v, keyValueOptions)\n    },\n    [formatValue, getDatapoint, keyValueOptions]\n  )\n\n  return {\n    getDatapoint,\n    renderXAxis,\n    renderXValue,\n    renderYAxis,\n    renderYValue,\n    renderKeyValue,\n    formatValue,\n  }\n}\n","import PropTypes from \"prop-types\"\nimport React, { useState, useCallback } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport tw, { styled } from \"twin.macro\"\nimport IconChevronDown from \"../svgs/icons/chevron-down.inline.svg\"\n\nconst DropdownContainer = styled.div`\n  ${tw`relative z-10 inline-flex flex-col rounded cursor-pointer`}\n  ${({ theme }) =>\n    (theme === \"light\" &&\n      tw`text-white dark:text-black bg-black dark:bg-white`) ||\n    (theme === \"graph1\" &&\n      tw`text-white bg-dark-graph2-dropdown sm:bg-dark-graph1-dropdown`) ||\n    (theme === \"graph2\" &&\n      tw`text-white bg-dark-graph1-dropdown sm:bg-dark-graph2-dropdown`) ||\n    tw`text-black bg-white`}\n`\n\nconst Selected = styled.div`\n  ${tw`flex items-center justify-between px-2 py-1 sm:px-4 sm:py-2 text-xs whitespace-no-wrap font-normal sm:font-bold`}\n  ${({ isOpen }) => (isOpen ? tw`rounded-t` : tw`rounded`)}\n  ${({ theme }) =>\n    (theme === \"light\" &&\n      tw`bg-black hover:bg-gray-800 dark:bg-white dark:hover:bg-gray-300`) ||\n    (theme === \"graph1\" &&\n      tw`bg-dark-graph2-dropdown sm:bg-dark-graph1-dropdown hover:bg-gray-800`) ||\n    (theme === \"graph2\" &&\n      tw`bg-dark-graph1-dropdown sm:bg-dark-graph2-dropdown hover:bg-gray-800`) ||\n    tw`bg-white hover:bg-gray-300`}\n`\n\nconst Menu = styled.div`\n  ${tw`absolute z-20 w-full rounded-b shadow top-full`}\n  ${({ theme }) =>\n    (theme === \"light\" && tw`bg-black dark:bg-white`) ||\n    (theme === \"graph1\" &&\n      tw`bg-dark-graph2-dropdown sm:bg-dark-graph1-dropdown`) ||\n    (theme === \"graph2\" &&\n      tw`bg-dark-graph1-dropdown sm:bg-dark-graph2-dropdown`) ||\n    tw`bg-white`}\n`\n\nconst Option = styled.a`\n  ${tw`block w-full px-2 py-1 sm:px-4 sm:py-2 last:rounded-b `}\n  ${({ theme }) =>\n    (theme === \"light\" && tw`bg-black dark:bg-white dark:hover:bg-gray-300`) ||\n    (theme === \"graph1\" &&\n      tw`bg-dark-graph2-dropdown sm:bg-dark-graph1-dropdown hover:bg-gray-800`) ||\n    (theme === \"graph2\" &&\n      tw`bg-dark-graph1-dropdown sm:bg-dark-graph2-dropdown hover:bg-gray-800`) ||\n    tw`bg-white hover:bg-gray-300`}\n`\n\nconst DropdownMenu = ({\n  options,\n  theme,\n  toggleOpen,\n  onChange,\n  labelPrefix,\n}) => {\n  const { t } = useTranslation()\n  return (\n    <Menu>\n      {options.map(option => (\n        <Option\n          key={`option-${option.value}`}\n          theme={theme}\n          onClick={() => {\n            onChange(option)\n            toggleOpen(false)\n          }}\n        >\n          {labelPrefix\n            ? t(`${labelPrefix}.${option.value}.label`)\n            : option.label}\n        </Option>\n      ))}\n    </Menu>\n  )\n}\n\nconst Dropdown = ({\n  options,\n  defaultValue,\n  onChange,\n  placeholder,\n  labelPrefix,\n  theme = \"light\",\n}) => {\n  const { t } = useTranslation()\n  const [isOpen, toggleOpen] = useState(false)\n\n  const findOption = useCallback(\n    value => options.find(option => option.value === value),\n    [options]\n  )\n\n  const [selectedOption, setSelectedOption] = useState(findOption(defaultValue))\n\n  const onChangeOption = useCallback(\n    option => {\n      setSelectedOption(option)\n      onChange(option)\n    },\n    [onChange]\n  )\n\n  const selectedTitle =\n    selectedOption &&\n    (labelPrefix\n      ? t(`${labelPrefix}.${selectedOption.value}.label`)\n      : selectedOption && selectedOption.label)\n\n  return (\n    <DropdownContainer theme={theme}>\n      <Selected\n        onClick={() => toggleOpen(!isOpen)}\n        isOpen={isOpen}\n        theme={theme}\n      >\n        <span>\n          {selectedOption\n            ? selectedTitle\n            : placeholder || t(\"components.dropdown.placeholder\")}\n        </span>\n        <IconChevronDown alt=\">\" tw=\"ml-3\" />\n      </Selected>\n      {isOpen && (\n        <DropdownMenu\n          labelPrefix={labelPrefix}\n          options={options}\n          theme={theme}\n          onChange={onChangeOption}\n          toggleOpen={toggleOpen}\n        />\n      )}\n    </DropdownContainer>\n  )\n}\n\nDropdown.propTypes = {\n  options: PropTypes.array,\n  labelPrefix: PropTypes.string,\n  selected: PropTypes.string,\n  onChange: PropTypes.func,\n}\n\nDropdown.defaultProps = {\n  options: [],\n}\n\nexport default Dropdown\n","var React = require('react');\n\nfunction ChevronDownInline (props) {\n    return React.createElement(\"svg\",props,React.createElement(\"path\",{\"d\":\"M18 10L16.59 8.59L12 13.17L7.41 8.59L6 10L12 16L18 10Z\",\"fill\":\"currentColor\"}));\n}\n\nChevronDownInline.defaultProps = {\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\"};\n\nmodule.exports = ChevronDownInline;\n\nChevronDownInline.default = ChevronDownInline;\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path();\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function moveTo(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function lineTo(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function quadraticCurveTo(x1, y1, x, y) {\n    this._ += \"Q\" + +x1 + \",\" + +y1 + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + +x1 + \",\" + +y1 + \",\" + +x2 + \",\" + +y2 + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01; // Is the radius negative? Error.\n\n    if (r < 0) throw new Error(\"negative radius: \" + r); // Is this path empty? Move to (x1,y1).\n\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    } // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon)) ; // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n      // Equivalently, is (x1,y1) coincident with (x2,y2)?\n      // Or, is the radius zero? Line to (x1,y1).\n      else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n          this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n        } // Otherwise, draw an arc!\n        else {\n            var x20 = x2 - x0,\n                y20 = y2 - y0,\n                l21_2 = x21 * x21 + y21 * y21,\n                l20_2 = x20 * x20 + y20 * y20,\n                l21 = Math.sqrt(l21_2),\n                l01 = Math.sqrt(l01_2),\n                l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n                t01 = l / l01,\n                t21 = l / l21; // If the start tangent is not coincident with (x0,y0), line to.\n\n            if (Math.abs(t01 - 1) > epsilon) {\n              this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n            }\n\n            this._ += \"A\" + r + \",\" + r + \",0,0,\" + +(y01 * x20 > x01 * y20) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n          }\n  },\n  arc: function arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0; // Is the radius negative? Error.\n\n    if (r < 0) throw new Error(\"negative radius: \" + r); // Is this path empty? Move to (x0,y0).\n\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    } // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n        this._ += \"L\" + x0 + \",\" + y0;\n      } // Is this arc empty? Were done.\n\n\n    if (!r) return; // Does the angle go the wrong way? Flip the direction.\n\n    if (da < 0) da = da % tau + tau; // Is this a complete circle? Draw two arcs to complete the circle.\n\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    } // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n        this._ += \"A\" + r + \",\" + r + \",0,\" + +(da >= pi) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n      }\n  },\n  rect: function rect(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + +w + \"v\" + +h + \"h\" + -w + \"Z\";\n  },\n  toString: function toString() {\n    return this._;\n  }\n};\nexport default path;","export var slice = Array.prototype.slice;\nexport default function (x) {\n  return typeof x === \"object\" && \"length\" in x ? x // Array, TypedArray, NodeList, array-like\n  : Array.from(x); // Map, Set, iterable, string, or anything else\n}","export default function (x) {\n  return function constant() {\n    return x;\n  };\n}","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n      // proceed\n\n      default:\n        this._context.lineTo(x, y);\n\n        break;\n    }\n  }\n};\nexport default function (context) {\n  return new Linear(context);\n}","export function x(p) {\n  return p[0];\n}\nexport function y(p) {\n  return p[1];\n}","import { path } from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport { x as pointX, y as pointY } from \"./point.js\";\nexport default function (x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n  x = typeof x === \"function\" ? x : x === undefined ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : y === undefined ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();else output.lineEnd();\n      }\n\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function (_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function (_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function (_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function (_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function (_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}","function sign(x) {\n  return x < 0 ? -1 : 1;\n} // Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\n\n\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n} // Calculate a one-sided slope.\n\n\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n} // According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\n\n\nfunction _point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 2:\n        this._context.lineTo(this._x1, this._y1);\n\n        break;\n\n      case 3:\n        _point(this, this._t0, slope2(this, this._t0));\n\n        break;\n    }\n\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    var t1 = NaN;\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n\n        _point(this, slope2(this, t1 = slope3(this, x, y)), t1);\n\n        break;\n\n      default:\n        _point(this, this._t0, t1 = slope3(this, x, y));\n\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n};\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function (x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function moveTo(x, y) {\n    this._context.moveTo(y, x);\n  },\n  closePath: function closePath() {\n    this._context.closePath();\n  },\n  lineTo: function lineTo(x, y) {\n    this._context.lineTo(y, x);\n  },\n  bezierCurveTo: function bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._context.bezierCurveTo(y1, x1, y2, x2, y, x);\n  }\n};\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}","export default function (series, order) {\n  if (!((n = series.length) > 1)) return;\n\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}","export default function (series) {\n  var n = series.length,\n      o = new Array(n);\n\n  while (--n >= 0) {\n    o[n] = n;\n  }\n\n  return o;\n}","function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nfunction stackSeries(key) {\n  var series = [];\n  series.key = key;\n  return series;\n}\n\nexport default function () {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var sz = Array.from(keys.apply(this, arguments), stackSeries),\n        i,\n        n = sz.length,\n        j = -1,\n        oz;\n\n    var _iterator = _createForOfIteratorHelper(data),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var d = _step.value;\n\n        for (i = 0, ++j; i < n; ++i) {\n          (sz[i][j] = [0, +value(d, sz[i].key, j, data)]).data = d;\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    for (i = 0, oz = array(order(sz)); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function (_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : keys;\n  };\n\n  stack.value = function (_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function (_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : order;\n  };\n\n  stack.offset = function (_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}","import { svgPathProperties } from \"svg-path-properties\"\nimport * as d3Shape from \"d3-shape\"\n\nexport const HOUR = 60 * 60\nexport const THREE_HOURS = HOUR * 3\nexport const SIX_HOURS = HOUR * 6\nexport const DAY = HOUR * 24\nexport const WEEK = DAY * 7\nexport const MONTH = DAY * 30\nexport const QUARTER = MONTH * 3\nexport const YEAR = DAY * 365\n\nexport const GROUP_NAMES = {\n  [HOUR]: \"1h\",\n  [THREE_HOURS]: \"3h\",\n  [SIX_HOURS]: \"6h\",\n  [DAY]: \"1d\",\n  [WEEK]: \"1w\",\n  [MONTH]: \"1m\",\n  [QUARTER]: \"1q\",\n  [YEAR]: \"1y\",\n}\n\nexport const GROUP_PERIODS = {\n  [THREE_HOURS]: [\n    { value: 8 * 7, label: \"Week\" },\n    { value: 8 * 30, label: \"Month\", isDefault: true },\n  ],\n  [SIX_HOURS]: [\n    { value: 4 * 7, label: \"Week\" },\n    { value: 4 * 30, label: \"Month\", isDefault: true },\n    { value: 4 * 90, label: \"Quarter\" },\n  ],\n  [DAY]: [\n    { value: 365, label: \"Year\" },\n    { value: 182, label: \"6 Months\", isDefault: true },\n    { value: 90, label: \"Quarter\" },\n    { value: 30, label: \"Month\" },\n    { value: 7, label: \"Week\" },\n  ],\n  [WEEK]: [\n    { value: 6 * 52, label: \"6 Years\" },\n    { value: 3 * 52, label: \"3 Years\", isDefault: true },\n    { value: 52, label: \"Year\" },\n    { value: 26, label: \"6 Months\" },\n    { value: 13, label: \"Quarter\" },\n  ],\n  [MONTH]: [\n    { value: 6 * 12, label: \"6 Years\", isDefault: true },\n    { value: 3 * 12, label: \"3 Years\" },\n    { value: 12, label: \"1 Year\" },\n  ],\n}\n\nexport const algoNames = [\n  \"SHA256D\",\n  \"Scrypt\",\n  \"Groestl\",\n  \"Skein\",\n  \"Qubit\",\n  \"Yescrypt\",\n  \"Argon2d\",\n]\n\nexport const algoColors = [\n  \"#0066FF\",\n  \"#A5AEFF\",\n  \"#9570FF\",\n  \"#5CE282\",\n  \"#FF6489\",\n  \"#FF9E4F\",\n  \"#FFE3B1\",\n]\n\nexport const algoDiffScale = [1000000, 100, 100, 100, 10, 0.1, 0.1]\n\nexport const hashrateScale = [100000, 10, 10, 10, 1, 0.01, 0.01]\n\nexport const scaleGraph = (min, max, pixels) => value =>\n  (pixels * (value - min)) / (max - min)\n\nconst getNearestDataPointIndex = (pixels, dataValues) => position => {\n  const min = Math.min(...dataValues)\n  const max = Math.max(...dataValues)\n\n  const relativeValue = min + ((max - min) * position) / pixels\n\n  const distanceIndexes = dataValues.map((value, index) => [\n    Math.abs(value - relativeValue),\n    index,\n  ])\n\n  distanceIndexes.sort(([distanceA], [distanceB]) => distanceA - distanceB)\n\n  return distanceIndexes[0][1]\n}\n\nconst getNearestDataPoint = (nearestDataPointIndexFromX, data) => position => {\n  const index = nearestDataPointIndexFromX(position)\n  return data[index]\n}\n\nexport const parseHistoryData = data => {\n  if (!data.length) {\n    return {\n      minX: 0,\n      maxX: 0,\n      minY: 0,\n      maxY: 0,\n    }\n  }\n\n  const mappedValues = data.map(v => v.y)\n\n  const minX = data[0].x\n  const maxX = data[data.length - 1].x\n\n  const minY = Math.min(...mappedValues)\n  const maxY = Math.max(...mappedValues)\n\n  const startValue = mappedValues[0]\n  const endValue = mappedValues[mappedValues.length - 1]\n  const change = endValue - startValue\n  const changePercent = change / mappedValues[0]\n\n  return {\n    minX,\n    maxX,\n    minY,\n    maxY,\n    startValue,\n    endValue,\n    change,\n    changePercent,\n    mappedValues,\n  }\n}\n\nconst average = (rollingWindow, key) => (a, c) => {\n  return {\n    x: a.x,\n    [key]: a[key] + c[key] / rollingWindow,\n  }\n}\n\nconst getRollingAverage = (\n  rawData,\n  rollingWindow,\n  centralRolling,\n  linePlotKeys\n) => {\n  const getSlicedData = () => {\n    if (centralRolling) {\n      return rawData.slice((rollingWindow - 1) / 2, -(rollingWindow - 1) / 2)\n    }\n\n    return rawData.slice(rollingWindow - 1)\n  }\n  const slicedData = getSlicedData()\n\n  const getInitialAverage = key =>\n    rawData\n      .slice(0, rollingWindow)\n      .reduce(average(rollingWindow, key), { [key]: 0 })[key]\n\n  const averagedData = []\n  for (let i = 0; i < slicedData.length; i++) {\n    const { x } = slicedData[i]\n\n    const averagedValues = linePlotKeys.reduce((a, key) => {\n      const value = !i\n        ? getInitialAverage(key)\n        : averagedData[i - 1][key] +\n          (rawData[i + rollingWindow - 1][key] - rawData[i - 1][key]) /\n            rollingWindow\n\n      return { ...a, [key]: value }\n    }, {})\n\n    averagedData.push({ x, ...averagedValues })\n  }\n\n  return { slicedData, averagedData }\n}\n\nexport const parseDataForLineGraph = ({\n  rawData,\n  startY,\n  endY,\n  rollingWindow,\n  centralRolling,\n  stackedKeys,\n  linePlotKeys,\n}) => {\n  if (!rawData || !rawData.length) {\n    return null\n  }\n\n  let data = rawData\n  let exactData = rawData\n\n  if (rollingWindow) {\n    const { slicedData, averagedData } = getRollingAverage(\n      data,\n      rollingWindow,\n      centralRolling,\n      linePlotKeys\n    )\n    data = averagedData\n    exactData = slicedData\n  }\n\n  const {\n    minX,\n    maxX,\n    minY,\n    maxY,\n    changePercent,\n    mappedValues,\n  } = parseHistoryData(exactData)\n\n  const adjustedMinY = startY === undefined ? minY : startY\n  const adjustedMaxY = endY === undefined ? maxY : endY\n\n  const width = maxX - minX\n  const height = adjustedMaxY - adjustedMinY\n\n  const x = scaleGraph(minX, maxX, width)\n  const y = scaleGraph(adjustedMaxY, adjustedMinY, height)\n  const yInv = scaleGraph(adjustedMinY, adjustedMaxY, height)\n\n  const nearestDataPointIndexFromX = getNearestDataPointIndex(\n    width,\n    exactData.map(({ x }) => x)\n  )\n\n  const nearestDataPointFromX = getNearestDataPoint(\n    nearestDataPointIndexFromX,\n    data\n  )\n\n  const nearestExactDataPointFromX = getNearestDataPoint(\n    nearestDataPointIndexFromX,\n    exactData\n  )\n\n  const linePlotData = linePlotKeys.map(lineKey => {\n    const gradientDivide = y(data[0][lineKey]) / height\n\n    const line = d3Shape\n      .line()\n      .curve(d3Shape.curveMonotoneX)\n      .x(d => x(d.x))\n      .y(d => yInv(d[lineKey]))\n\n    const svgLine = line(data)\n\n    const svgLineFill = line([\n      { ...data[0], y: adjustedMinY },\n      ...data,\n      { ...data[data.length - 1], y: adjustedMinY },\n    ])\n\n    const getSvgDivideLine = () => {\n      if (minY === data[0][lineKey] || maxY === data[0][lineKey]) {\n        return null\n      }\n\n      return line([data[0], { ...data[data.length - 1], y: data[0][lineKey] }])\n    }\n\n    const svgDivideLine = getSvgDivideLine()\n\n    const properties = new svgPathProperties(svgLine)\n    const lineLength = properties.getTotalLength()\n\n    return {\n      gradientDivide,\n      line,\n      svgLine,\n      svgLineFill,\n      svgDivideLine,\n      lineLength,\n    }\n  })\n\n  const stackGen = d3Shape.stack().keys(stackedKeys)\n  const stackedData = stackGen(exactData)\n\n  var areaGen = d3Shape\n    .area()\n    .curve(d3Shape.curveMonotoneX)\n    .x(d => x(d.data.x))\n    .y0(d => y(d[0]))\n    .y1(d => y(d[1]))\n\n  const stackAreas = stackedData.map(stack => {\n    const area = areaGen(stack)\n    return area\n  })\n\n  return {\n    changePercent,\n    x,\n    y,\n    nearestDataPointIndexFromX,\n    nearestDataPointFromX,\n    nearestExactDataPointFromX,\n    minY,\n    maxY,\n    adjustedMinY,\n    adjustedMaxY,\n    minX,\n    maxX,\n    data,\n    width,\n    height,\n    exactData,\n    stackedData,\n    stackAreas,\n    linePlotData,\n    mappedValues,\n  }\n}\n","import { path } from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport { x as pointX, y as pointY } from \"./point.js\";\nexport default function (x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n  x0 = typeof x0 === \"function\" ? x0 : x0 === undefined ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : y0 === undefined ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : y1 === undefined ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function (_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function (_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function (_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function (_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function (_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function (_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 = area.lineY0 = function () {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function () {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function () {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function (_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function (_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function (_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}","var $ = require('../internals/export');\n\nvar $hypot = Math.hypot;\nvar abs = Math.abs;\nvar sqrt = Math.sqrt;\n\n// Chrome 77 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=9546\nvar BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;\n\n// `Math.hypot` method\n// https://tc39.github.io/ecma262/#sec-math.hypot\n$({ target: 'Math', stat: true, forced: BUGGY }, {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * sqrt(sum);\n  }\n});\n"],"sourceRoot":""}